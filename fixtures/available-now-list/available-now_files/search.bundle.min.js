!function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({"C:\\projects\\lightning\\business-objects\\GeneratedCollectionDetails.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("underscore");t.exports=function(){function e(){n(this,e),this.mediaType="",this.language="",this.publisherEntityId=null,this.maturityLevels=[],this.subjects=[],this.sortBy="",this.maxItems=void 0,Object.assign.apply(Object,[this].concat(Array.prototype.slice.call(arguments)))}return r(e,[{key:"serializeForSearch",value:function(){var e=o.extend({},this);return e.language=o(o.flatten([e.language])).reject(function(e){return o.isEmpty(e)}),e.maturityLevel=o(o.flatten([e.maturityLevels])).reject(function(e){return o.isEmpty(e)}),delete e.maturityLevels,e.subject=o(o.flatten([e.subjects])).reject(function(e){return o.isEmpty(e)}),delete e.subjects,e}}]),e}()},{underscore:"C:\\projects\\lightning\\node_modules\\underscore\\underscore.js"}],"C:\\projects\\lightning\\models\\dao\\MediaParameters.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("underscore");t.exports=function(){function e(){n(this,e),this.query="",this.mediaType="",this.title="",this.series="",this.publisherId="",this.publisherEntityId=null,this.imprintId="",this.identifier="",this.creator="",this.creatorId=null,this.addedDate="",this.availableFirst=null,this.showOnlyAvailable=!1,this.showOnlyPrerelease=!1,this.hasAudioSynchronizedText=null,this.collectionId=0,this.format=[],this.subject=[],this.bisacCode=[],this.maturityLevel=[],this.language=[],this.atosLevel=[],this.lexileScore=[],this.interestLevel=[],this.gradeLevel=[],this.includedFacets=[],this.sortBy="relevance",this.show="owned",this.page=1,this.perPage=24,this.includeFacets=!0,this.includeNoFormatTitles=!1,this.filterCpcTitles=!1,this.maxItems=0,Object.assign.apply(Object,[this].concat(Array.prototype.slice.call(arguments)))}return r(e,[{key:"applyRoomFiltersAndUserPrefs",value:function(e,t){if(e&&(e.maturityLevels&&(this.maturityLevel=e.maturityLevels),e.subjects&&(this.subject=e.subjects),e.language&&(this.language=e.language),e.mediaType&&(this.mediaType=e.mediaType)),t&&t["audience-setting"]&&0===this.maturityLevel.length){var i=t["audience-setting"],n=[];o.each(o.keys(i),function(e){i[e]&&"all"!==e&&n.push(e)}),n.length>0&&(this.maturityLevel=n)}}},{key:"serialize",value:function(){var e=this,t=o.extend({},this);return Object.keys(t).forEach(function(i){!e._hasValue(t[i])&&delete t[i]}),t}},{key:"_hasValue",value:function(e){return!(o(e).isObject()&&o(e).isEmpty()||!e)||e===!1}}]),e}()},{underscore:"C:\\projects\\lightning\\node_modules\\underscore\\underscore.js"}],"C:\\projects\\lightning\\node_modules\\he\\he.js":[function(e,t,i){(function(e){!function(n){var r="object"==typeof i&&i,o="object"==typeof t&&t&&t.exports==r&&t,a="object"==typeof e&&e;a.global!==a&&a.window!==a||(n=a);var s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,u=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,d={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","\t":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr","ª":"ordf","á":"aacute","Á":"Aacute","à":"agrave","À":"Agrave","ă":"abreve","Ă":"Abreve","â":"acirc","Â":"Acirc","å":"aring","Å":"angst","ä":"auml","Ä":"Auml","ã":"atilde","Ã":"Atilde","ą":"aogon","Ą":"Aogon","ā":"amacr","Ā":"Amacr","æ":"aelig","Æ":"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf","ℬ":"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf","ℭ":"Cfr","𝒞":"Cscr","ℂ":"Copf","ć":"cacute","Ć":"Cacute","ĉ":"ccirc","Ĉ":"Ccirc","č":"ccaron","Č":"Ccaron","ċ":"cdot","Ċ":"Cdot","ç":"ccedil","Ç":"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf","ď":"dcaron","Ď":"Dcaron","đ":"dstrok","Đ":"Dstrok","ð":"eth","Ð":"ETH","ⅇ":"ee","ℯ":"escr","𝔢":"efr","𝕖":"eopf","ℰ":"Escr","𝔈":"Efr","𝔼":"Eopf","é":"eacute","É":"Eacute","è":"egrave","È":"Egrave","ê":"ecirc","Ê":"Ecirc","ě":"ecaron","Ě":"Ecaron","ë":"euml","Ë":"Euml","ė":"edot","Ė":"Edot","ę":"eogon","Ę":"Eogon","ē":"emacr","Ē":"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf","ℱ":"Fscr","ﬀ":"fflig","ﬃ":"ffilig","ﬄ":"ffllig","ﬁ":"filig",fj:"fjlig","ﬂ":"fllig","ƒ":"fnof","ℊ":"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr","ǵ":"gacute","ğ":"gbreve","Ğ":"Gbreve","ĝ":"gcirc","Ĝ":"Gcirc","ġ":"gdot","Ġ":"Gdot","Ģ":"Gcedil","𝔥":"hfr","ℎ":"planckh","𝒽":"hscr","𝕙":"hopf","ℋ":"Hscr","ℌ":"Hfr","ℍ":"Hopf","ĥ":"hcirc","Ĥ":"Hcirc","ℏ":"hbar","ħ":"hstrok","Ħ":"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf","ℐ":"Iscr","ℑ":"Im","í":"iacute","Í":"Iacute","ì":"igrave","Ì":"Igrave","î":"icirc","Î":"Icirc","ï":"iuml","Ï":"Iuml","ĩ":"itilde","Ĩ":"Itilde","İ":"Idot","į":"iogon","Į":"Iogon","ī":"imacr","Ī":"Imacr","ĳ":"ijlig","Ĳ":"IJlig","ı":"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf","ĵ":"jcirc","Ĵ":"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr","ķ":"kcedil","Ķ":"Kcedil","𝔩":"lfr","𝓁":"lscr","ℓ":"ell","𝕝":"lopf","ℒ":"Lscr","𝔏":"Lfr","𝕃":"Lopf","ĺ":"lacute","Ĺ":"Lacute","ľ":"lcaron","Ľ":"Lcaron","ļ":"lcedil","Ļ":"Lcedil","ł":"lstrok","Ł":"Lstrok","ŀ":"lmidot","Ŀ":"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf","ℳ":"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr","ℕ":"Nopf","𝒩":"Nscr","𝔑":"Nfr","ń":"nacute","Ń":"Nacute","ň":"ncaron","Ň":"Ncaron","ñ":"ntilde","Ñ":"Ntilde","ņ":"ncedil","Ņ":"Ncedil","№":"numero","ŋ":"eng","Ŋ":"ENG","𝕠":"oopf","𝔬":"ofr","ℴ":"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf","º":"ordm","ó":"oacute","Ó":"Oacute","ò":"ograve","Ò":"Ograve","ô":"ocirc","Ô":"Ocirc","ö":"ouml","Ö":"Ouml","ő":"odblac","Ő":"Odblac","õ":"otilde","Õ":"Otilde","ø":"oslash","Ø":"Oslash","ō":"omacr","Ō":"Omacr","œ":"oelig","Œ":"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf","ℙ":"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr","ℚ":"Qopf","ĸ":"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr","ℛ":"Rscr","ℜ":"Re","ℝ":"Ropf","ŕ":"racute","Ŕ":"Racute","ř":"rcaron","Ř":"Rcaron","ŗ":"rcedil","Ŗ":"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS","ś":"sacute","Ś":"Sacute","ŝ":"scirc","Ŝ":"Scirc","š":"scaron","Š":"Scaron","ş":"scedil","Ş":"Scedil","ß":"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf","ť":"tcaron","Ť":"Tcaron","ţ":"tcedil","Ţ":"Tcedil","™":"trade","ŧ":"tstrok","Ŧ":"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr","ú":"uacute","Ú":"Uacute","ù":"ugrave","Ù":"Ugrave","ŭ":"ubreve","Ŭ":"Ubreve","û":"ucirc","Û":"Ucirc","ů":"uring","Ů":"Uring","ü":"uuml","Ü":"Uuml","ű":"udblac","Ű":"Udblac","ũ":"utilde","Ũ":"Utilde","ų":"uogon","Ų":"Uogon","ū":"umacr","Ū":"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr","ŵ":"wcirc","Ŵ":"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf","ý":"yacute","Ý":"Yacute","ŷ":"ycirc","Ŷ":"Ycirc","ÿ":"yuml","Ÿ":"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf","ℨ":"Zfr","ℤ":"Zopf","𝒵":"Zscr","ź":"zacute","Ź":"Zacute","ž":"zcaron","Ž":"Zcaron","ż":"zdot","Ż":"Zdot","Ƶ":"imped","þ":"thorn","Þ":"THORN","ŉ":"napos","α":"alpha","Α":"Alpha","β":"beta","Β":"Beta","γ":"gamma","Γ":"Gamma","δ":"delta","Δ":"Delta","ε":"epsi","ϵ":"epsiv","Ε":"Epsilon","ϝ":"gammad","Ϝ":"Gammad","ζ":"zeta","Ζ":"Zeta","η":"eta","Η":"Eta","θ":"theta","ϑ":"thetav","Θ":"Theta","ι":"iota","Ι":"Iota","κ":"kappa","ϰ":"kappav","Κ":"Kappa","λ":"lambda","Λ":"Lambda","μ":"mu","µ":"micro","Μ":"Mu","ν":"nu","Ν":"Nu","ξ":"xi","Ξ":"Xi","ο":"omicron","Ο":"Omicron","π":"pi","ϖ":"piv","Π":"Pi","ρ":"rho","ϱ":"rhov","Ρ":"Rho","σ":"sigma","Σ":"Sigma","ς":"sigmaf","τ":"tau","Τ":"Tau","υ":"upsi","Υ":"Upsilon","ϒ":"Upsi","φ":"phi","ϕ":"phiv","Φ":"Phi","χ":"chi","Χ":"Chi","ψ":"psi","Ψ":"Psi","ω":"omega","Ω":"ohm","а":"acy","А":"Acy","б":"bcy","Б":"Bcy","в":"vcy","В":"Vcy","г":"gcy","Г":"Gcy","ѓ":"gjcy","Ѓ":"GJcy","д":"dcy","Д":"Dcy","ђ":"djcy","Ђ":"DJcy","е":"iecy","Е":"IEcy","ё":"iocy","Ё":"IOcy","є":"jukcy","Є":"Jukcy","ж":"zhcy","Ж":"ZHcy","з":"zcy","З":"Zcy","ѕ":"dscy","Ѕ":"DScy","и":"icy","И":"Icy","і":"iukcy","І":"Iukcy","ї":"yicy","Ї":"YIcy","й":"jcy","Й":"Jcy","ј":"jsercy","Ј":"Jsercy","к":"kcy","К":"Kcy","ќ":"kjcy","Ќ":"KJcy","л":"lcy","Л":"Lcy","љ":"ljcy","Љ":"LJcy","м":"mcy","М":"Mcy","н":"ncy","Н":"Ncy","њ":"njcy","Њ":"NJcy","о":"ocy","О":"Ocy","п":"pcy","П":"Pcy","р":"rcy","Р":"Rcy","с":"scy","С":"Scy","т":"tcy","Т":"Tcy","ћ":"tshcy","Ћ":"TSHcy","у":"ucy","У":"Ucy","ў":"ubrcy","Ў":"Ubrcy","ф":"fcy","Ф":"Fcy","х":"khcy","Х":"KHcy","ц":"tscy","Ц":"TScy","ч":"chcy","Ч":"CHcy","џ":"dzcy","Џ":"DZcy","ш":"shcy","Ш":"SHcy","щ":"shchcy","Щ":"SHCHcy","ъ":"hardcy","Ъ":"HARDcy","ы":"ycy","Ы":"Ycy","ь":"softcy","Ь":"SOFTcy","э":"ecy","Э":"Ecy","ю":"yucy","Ю":"YUcy","я":"yacy","Я":"YAcy","ℵ":"aleph","ℶ":"beth","ℷ":"gimel","ℸ":"daleth"},p=/["&'<>`]/g,f={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},h=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,m=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,b={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",
dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒","in":"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı","int":"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},v={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},y={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},w=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],_=String.fromCharCode,j={},C=j.hasOwnProperty,O=function(e,t){return C.call(e,t)},T=function(e,t){for(var i=-1,n=e.length;++i<n;)if(e[i]==t)return!0;return!1},k=function(e,t){if(!e)return t;var i,n={};for(i in t)n[i]=O(e,i)?e[i]:t[i];return n},E=function(e,t){var i="";return e>=55296&&e<=57343||e>1114111?(t&&S("character reference outside the permissible Unicode range"),"�"):O(y,e)?(t&&S("disallowed character reference"),y[e]):(t&&T(w,e)&&S("disallowed character reference"),e>65535&&(e-=65536,i+=_(e>>>10&1023|55296),e=56320|1023&e),i+=_(e))},A=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},x=function(e){return"&#"+e+";"},S=function(e){throw Error("Parse error: "+e)},D=function(e,t){t=k(t,D.options);var i=t.strict;i&&m.test(e)&&S("forbidden code point");var n=t.encodeEverything,r=t.useNamedReferences,o=t.allowUnsafeSymbols,a=t.decimal?x:A,f=function(e){return a(e.charCodeAt(0))};return n?(e=e.replace(l,function(e){return r&&O(d,e)?"&"+d[e]+";":f(e)}),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(u,function(e){return"&"+d[e]+";"}))):r?(o||(e=e.replace(p,function(e){return"&"+d[e]+";"})),e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),e=e.replace(u,function(e){return"&"+d[e]+";"})):o||(e=e.replace(p,f)),e.replace(s,function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=1024*(t-55296)+i-56320+65536;return a(n)}).replace(c,f)};D.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var P=function(e,t){t=k(t,P.options);var i=t.strict;return i&&h.test(e)&&S("malformed character reference"),e.replace(g,function(e,n,r,o,a,s,l,c){var u,d,p,f,h,m;return n?(p=n,d=r,i&&!d&&S("character reference was not terminated by a semicolon"),u=parseInt(p,10),E(u,i)):o?(f=o,d=a,i&&!d&&S("character reference was not terminated by a semicolon"),u=parseInt(f,16),E(u,i)):s?(h=s,O(b,h)?b[h]:(i&&S("named character reference was not terminated by a semicolon"),e)):(h=l,m=c,m&&t.isAttributeValue?(i&&"="==m&&S("`&` did not start a character reference"),e):(i&&S("named character reference was not terminated by a semicolon"),v[h]+(m||"")))})};P.options={isAttributeValue:!1,strict:!1};var B=function(e){return e.replace(p,function(e){return f[e]})},L={version:"1.1.1",encode:D,decode:P,escape:B,unescape:P};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return L});else if(r&&!r.nodeType)if(o)o.exports=L;else for(var I in L)O(L,I)&&(r[I]=L[I]);else n.he=L}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"C:\\projects\\lightning\\node_modules\\path-browserify\\index.js":[function(e,t,i){(function(e){function t(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};i.resolve=function(){for(var i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(i=a+"/"+i,r="/"===a.charAt(0))}return i=t(n(i.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+i||"."},i.normalize=function(e){var r=i.isAbsolute(e),o="/"===a(e,-1);return e=t(n(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},i.isAbsolute=function(e){return"/"===e.charAt(0)},i.join=function(){var e=Array.prototype.slice.call(arguments,0);return i.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},i.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=i.resolve(e).substr(1),t=i.resolve(t).substr(1);for(var r=n(e.split("/")),o=n(t.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}for(var c=[],l=s;l<r.length;l++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},i.sep="/",i.delimiter=":",i.dirname=function(e){var t=o(e),i=t[0],n=t[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},i.basename=function(e,t){var i=o(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},i.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,e("_process"))},{_process:"C:\\projects\\lightning\\node_modules\\process\\browser.js"}],"C:\\projects\\lightning\\node_modules\\process\\browser.js":[function(e,t,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&h&&(g=!1,h.length?m=h.concat(m):b=-1,m.length&&l())}function l(){if(!g){var e=o(s);g=!0;for(var t=m.length;t;){for(h=m,m=[];++b<t;)h&&h[b].run();b=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,p,f=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,m=[],g=!1,b=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];m.push(new c(e,t)),1!==m.length||g||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],"C:\\projects\\lightning\\node_modules\\querystring-es3\\decode.js":[function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,f,h,m=e[u].replace(s,"%20"),g=m.indexOf(i);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),n(a,f)?r(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"C:\\projects\\lightning\\node_modules\\querystring-es3\\encode.js":[function(e,t,i){"use strict";function n(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,i,s){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?n(a(e),function(a){var s=encodeURIComponent(r(a))+i;return o(e[a])?n(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+i+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],"C:\\projects\\lightning\\node_modules\\querystring-es3\\index.js":[function(e,t,i){"use strict";i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":"C:\\projects\\lightning\\node_modules\\querystring-es3\\decode.js","./encode":"C:\\projects\\lightning\\node_modules\\querystring-es3\\encode.js"}],"C:\\projects\\lightning\\node_modules\\querystring\\decode.js":[function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,p,f,h=e[c].replace(a,"%20"),m=h.indexOf(i);m>=0?(u=h.substr(0,m),d=h.substr(m+1)):(u=h,d=""),p=decodeURIComponent(u),f=decodeURIComponent(d),n(o,p)?Array.isArray(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o}},{}],"C:\\projects\\lightning\\node_modules\\querystring\\encode.js":[function(e,t,i){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,i,r){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var o=encodeURIComponent(n(r))+i;return Array.isArray(e[r])?e[r].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(e)):""}},{}],"C:\\projects\\lightning\\node_modules\\querystring\\index.js":[function(e,t,i){arguments[4]["C:\\projects\\lightning\\node_modules\\querystring-es3\\index.js"][0].apply(i,arguments)},{"./decode":"C:\\projects\\lightning\\node_modules\\querystring\\decode.js","./encode":"C:\\projects\\lightning\\node_modules\\querystring\\encode.js"}],"C:\\projects\\lightning\\node_modules\\underscore\\underscore.js":[function(e,t,i){(function(){function e(e){function t(t,i,n,r,o,a){for(;o>=0&&o<a;o+=e){var s=r?r[o]:o;n=i(n,t[s],s,t)}return n}return function(i,n,r,o){n=_(n,o,4);var a=!A(i)&&w.keys(i),s=(a||i).length,l=e>0?0:s-1;return arguments.length<3&&(r=i[a?a[l]:l],l+=e),t(i,n,r,a,l,s)}}function n(e){return function(t,i,n){i=j(i,n);for(var r=E(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(i(t[o],o,t))return o;return-1}}function r(e,t,i){return function(n,r,o){
var a=0,s=E(n);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return o=i(n,r),n[o]===r?o:-1;if(r!==r)return o=t(p.call(n,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(n[o]===r)return o;return-1}}function o(e,t){var i=B.length,n=e.constructor,r=w.isFunction(n)&&n.prototype||c,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);i--;)o=B[i],o in e&&e[o]!==r[o]&&!w.contains(t,o)&&t.push(o)}var a=this,s=a._,l=Array.prototype,c=Object.prototype,u=Function.prototype,d=l.push,p=l.slice,f=c.toString,h=c.hasOwnProperty,m=Array.isArray,g=Object.keys,b=u.bind,v=Object.create,y=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof i?("undefined"!=typeof t&&t.exports&&(i=t.exports=w),i._=w):a._=w,w.VERSION="1.8.3";var _=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)};case 4:return function(i,n,r,o){return e.call(t,i,n,r,o)}}return function(){return e.apply(t,arguments)}},j=function(e,t,i){return null==e?w.identity:w.isFunction(e)?_(e,t,i):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return j(e,t,1/0)};var C=function(e,t){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==i[c]||(i[c]=o[c])}return i}},O=function(e){if(!w.isObject(e))return{};if(v)return v(e);y.prototype=e;var t=new y;return y.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,E=T("length"),A=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=k};w.each=w.forEach=function(e,t,i){t=_(t,i);var n,r;if(A(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var o=w.keys(e);for(n=0,r=o.length;n<r;n++)t(e[o[n]],o[n],e)}return e},w.map=w.collect=function(e,t,i){t=j(t,i);for(var n=!A(e)&&w.keys(e),r=(n||e).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,i){var n;if(n=A(e)?w.findIndex(e,t,i):w.findKey(e,t,i),void 0!==n&&n!==-1)return e[n]},w.filter=w.select=function(e,t,i){var n=[];return t=j(t,i),w.each(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n},w.reject=function(e,t,i){return w.filter(e,w.negate(j(t)),i)},w.every=w.all=function(e,t,i){t=j(t,i);for(var n=!A(e)&&w.keys(e),r=(n||e).length,o=0;o<r;o++){var a=n?n[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,i){t=j(t,i);for(var n=!A(e)&&w.keys(e),r=(n||e).length,o=0;o<r;o++){var a=n?n[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,i,n){return A(e)||(e=w.values(e)),("number"!=typeof i||n)&&(i=0),w.indexOf(e,t,i)>=0},w.invoke=function(e,t){var i=p.call(arguments,2),n=w.isFunction(t);return w.map(e,function(e){var r=n?t:e[t];return null==r?r:r.apply(e,i)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,i){var n,r,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=A(e)?e:w.values(e);for(var s=0,l=e.length;s<l;s++)n=e[s],n>o&&(o=n)}else t=j(t,i),w.each(e,function(e,i,n){r=t(e,i,n),(r>a||r===-(1/0)&&o===-(1/0))&&(o=e,a=r)});return o},w.min=function(e,t,i){var n,r,o=1/0,a=1/0;if(null==t&&null!=e){e=A(e)?e:w.values(e);for(var s=0,l=e.length;s<l;s++)n=e[s],n<o&&(o=n)}else t=j(t,i),w.each(e,function(e,i,n){r=t(e,i,n),(r<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},w.shuffle=function(e){for(var t,i=A(e)?e:w.values(e),n=i.length,r=Array(n),o=0;o<n;o++)t=w.random(0,o),t!==o&&(r[o]=r[t]),r[t]=i[o];return r},w.sample=function(e,t,i){return null==t||i?(A(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,i){return t=j(t,i),w.pluck(w.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,i,n){var r={};return i=j(i,n),w.each(t,function(n,o){var a=i(n,o,t);e(r,n,a)}),r}};w.groupBy=x(function(e,t,i){w.has(e,i)?e[i].push(t):e[i]=[t]}),w.indexBy=x(function(e,t,i){e[i]=t}),w.countBy=x(function(e,t,i){w.has(e,i)?e[i]++:e[i]=1}),w.toArray=function(e){return e?w.isArray(e)?p.call(e):A(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:A(e)?e.length:w.keys(e).length},w.partition=function(e,t,i){t=j(t,i);var n=[],r=[];return w.each(e,function(e,i,o){(t(e,i,o)?n:r).push(e)}),[n,r]},w.first=w.head=w.take=function(e,t,i){if(null!=e)return null==t||i?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,i){return p.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},w.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,i){return p.call(e,null==t||i?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var S=function(e,t,i,n){for(var r=[],o=0,a=n||0,s=E(e);a<s;a++){var l=e[a];if(A(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=S(l,t,i));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else i||(r[o++]=l)}return r};w.flatten=function(e,t){return S(e,t,!1)},w.without=function(e){return w.difference(e,p.call(arguments,1))},w.uniq=w.unique=function(e,t,i,n){w.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=j(i,n));for(var r=[],o=[],a=0,s=E(e);a<s;a++){var l=e[a],c=i?i(l,a,e):l;t?(a&&o===c||r.push(l),o=c):i?w.contains(o,c)||(o.push(c),r.push(l)):w.contains(r,l)||r.push(l)}return r},w.union=function(){return w.uniq(S(arguments,!0,!0))},w.intersection=function(e){for(var t=[],i=arguments.length,n=0,r=E(e);n<r;n++){var o=e[n];if(!w.contains(t,o)){for(var a=1;a<i&&w.contains(arguments[a],o);a++);a===i&&t.push(o)}}return t},w.difference=function(e){var t=S(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,E).length||0,i=Array(t),n=0;n<t;n++)i[n]=w.pluck(e,n);return i},w.object=function(e,t){for(var i={},n=0,r=E(e);n<r;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},w.findIndex=n(1),w.findLastIndex=n(-1),w.sortedIndex=function(e,t,i,n){i=j(i,n,1);for(var r=i(t),o=0,a=E(e);o<a;){var s=Math.floor((o+a)/2);i(e[s])<r?o=s+1:a=s}return o},w.indexOf=r(1,w.findIndex,w.sortedIndex),w.lastIndexOf=r(-1,w.findLastIndex),w.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),r=Array(n),o=0;o<n;o++,e+=i)r[o]=e;return r};var D=function(e,t,i,n,r){if(!(n instanceof t))return e.apply(i,r);var o=O(e.prototype),a=e.apply(o,r);return w.isObject(a)?a:o};w.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,p.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var i=p.call(arguments,2),n=function(){return D(e,n,t,this,i.concat(p.call(arguments)))};return n},w.partial=function(e){var t=p.call(arguments,1),i=function(){for(var n=0,r=t.length,o=Array(r),a=0;a<r;a++)o[a]=t[a]===w?arguments[n++]:t[a];for(;n<arguments.length;)o.push(arguments[n++]);return D(e,i,this,this,o)};return i},w.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)i=arguments[t],e[i]=w.bind(e[i],e);return e},w.memoize=function(e,t){var i=function(n){var r=i.cache,o=""+(t?t.apply(this,arguments):n);return w.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return i.cache={},i},w.delay=function(e,t){var i=p.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,i){var n,r,o,a=null,s=0;i||(i={});var l=function(){s=i.leading===!1?0:w.now(),a=null,o=e.apply(n,r),a||(n=r=null)};return function(){var c=w.now();s||i.leading!==!1||(s=c);var u=t-(c-s);return n=this,r=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=c,o=e.apply(n,r),a||(n=r=null)):a||i.trailing===!1||(a=setTimeout(l,u)),o}},w.debounce=function(e,t,i){var n,r,o,a,s,l=function(){var c=w.now()-a;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,i||(s=e.apply(o,r),n||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},w.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},w.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},w.once=w.partial(w.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var i in e)w.has(e,i)&&t.push(i);return P&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var i in e)t.push(i);return P&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=e[t[r]];return n},w.mapObject=function(e,t,i){t=j(t,i);for(var n,r=w.keys(e),o=r.length,a={},s=0;s<o;s++)n=r[s],a[n]=t(e[n],n,e);return a},w.pairs=function(e){for(var t=w.keys(e),i=t.length,n=Array(i),r=0;r<i;r++)n[r]=[t[r],e[t[r]]];return n},w.invert=function(e){for(var t={},i=w.keys(e),n=0,r=i.length;n<r;n++)t[e[i[n]]]=i[n];return t},w.functions=w.methods=function(e){var t=[];for(var i in e)w.isFunction(e[i])&&t.push(i);return t.sort()},w.extend=C(w.allKeys),w.extendOwn=w.assign=C(w.keys),w.findKey=function(e,t,i){t=j(t,i);for(var n,r=w.keys(e),o=0,a=r.length;o<a;o++)if(n=r[o],t(e[n],n,e))return n},w.pick=function(e,t,i){var n,r,o={},a=e;if(null==a)return o;w.isFunction(t)?(r=w.allKeys(a),n=_(t,i)):(r=S(arguments,!1,!1,1),n=function(e,t,i){return t in i},a=Object(a));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=a[c];n(u,c,a)&&(o[c]=u)}return o},w.omit=function(e,t,i){if(w.isFunction(t))t=w.negate(t);else{var n=w.map(S(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(n,t)}}return w.pick(e,t,i)},w.defaults=C(w.allKeys,!0),w.create=function(e,t){var i=O(e);return t&&w.extendOwn(i,t),i},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var i=w.keys(t),n=i.length;if(null==e)return!n;for(var r=Object(e),o=0;o<n;o++){var a=i[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var L=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var r=f.call(e);if(r!==f.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],i,n))return!1}else{var c,u=w.keys(e);if(l=u.length,w.keys(t).length!==l)return!1;for(;l--;)if(c=u[l],!w.has(t,c)||!L(e[c],t[c],i,n))return!1}return i.pop(),n.pop(),!0};w.isEqual=function(e,t){return L(e,t)},w.isEmpty=function(e){return null==e||(A(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length)},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=m||function(e){return"[object Array]"===f.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&h.call(e,t)},w.noConflict=function(){return a._=s,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=T,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,i){var n=Array(Math.max(0,e));t=_(t,i,1);for(var r=0;r<e;r++)n[r]=t(r);return n},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=w.invert(I),M=function(e){var t=function(t){return e[t]},i="(?:"+w.keys(e).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};w.escape=M(I),w.unescape=M(R),w.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),w.isFunction(n)?n.call(e):n};var F=0;w.uniqueId=function(e){var t=++F+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,N=function(e){return"\\"+H[e]};w.template=function(e,t,i){!t&&i&&(t=i),t=w.defaults({},t,w.templateSettings);var n=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(n,function(t,i,n,a,s){return o+=e.slice(r,s).replace($,N),r=s+t.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,w)},c=t.variable||"obj";return l.source="function("+c+"){\n"+o+"}",l},w.chain=function(e){var t=w(e);return t._chain=!0,t};var V=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var i=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),V(this,i.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],V(this,i)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this)},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\collection_campaign_page\\CollectionDefinition.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../media/MediaInterface"),c=n(l),u=e("../media/models/TitleCollection"),d=(n(u),e("../../../../business-objects/GeneratedCollectionDetails")),p=n(d),f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._mediaInterface=new c["default"],e.titleCollection=e._mediaInterface.items,e.listenTo(e.titleCollection,"all",function(){e.set("totalItems",e.titleCollection.length)}),e}return a(t,e),s(t,[{key:"defaults",value:function(){return{id:"0",name:"",description:"",availabilityOption:"",showOnlyAvailable:!1,showOnlyPrerelease:!1,sortByAvailability:!1,curatedCollectionDetails:null,generatedCollectionDetails:null,lastModified:null,order:0,totalItems:0}}},{key:"idAttribute",get:function(){return"id"}},{key:"collectionOptions",get:function(){var e={includeFacets:!1,perPage:6};return(this.get("sortByAvailability")||"available-first"===this.get("availabilityOption"))&&(e.availableFirst=!0),(this.get("showOnlyAvailable")||"available-only"===this.get("availabilityOption"))&&(e.showOnlyAvailable=!0),this.get("showOnlyPrerelease")&&(e.showOnlyPrerelease=!0),this.useListOrder&&(e.sortBy="listorder"),e}},{key:"isGenerated",get:function(){return!_(this.get("generatedCollectionDetails")).isEmpty()}},{key:"isCurated",get:function(){return!_(this.get("curatedCollectionDetails")).isEmpty()}},{key:"useListOrder",get:function(){return this.isCurated&&this.get("curatedCollectionDetails").isOrdered}}]),s(t,[{key:"fetchCollectionTitles",value:function(e){var t=e.patronSettings,i=e.room,n=!_.isEmpty(i&&i.filters&&i.filters.maturityLevels),r=this._parsePatronAudienceSettings(t);if(this.isGenerated){var o=this.get("generatedCollectionDetails");this.attributes.sortBy&&(o.sortBy=this.attributes.sortBy);var a=new p["default"](o),s=a.serializeForSearch();if(n)return this._mediaInterface.fetchCollectionByParameters(s,this.collectionOptions);var l=Object.assign({},this.collectionOptions);return!_(r).isEmpty()&&_(s.maturityLevel).isEmpty()&&Object.assign(l,{maturityLevel:r}),this._patronFiltersPermitCollection(s.maturityLevel,r)?this._mediaInterface.fetchCollectionByParameters(s,l):this._mediaInterface.fetchEmptyResponse()}var c=Object.assign({},this.collectionOptions);return _(i).isEmpty()&&Object.assign(c,{maturityLevel:r}),this._mediaInterface.fetchCollectionById(this.id,c)}},{key:"_parsePatronAudienceSettings",value:function(e){var t=e&&e["audience-setting"]||{};if(_(t).isEmpty()||t.all)return[];var i=[];return _(t).each(function(e,t){e&&"all"!==t&&i.push(t)}),i}},{key:"_patronFiltersPermitCollection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return!0;var i=e.map(function(e){return e.toLowerCase()}),n=t.map(function(e){return e.toLowerCase()});return 0===_(i).difference(n).length}}]),t}(Backbone.Model);i["default"]=f},{"../../../../business-objects/GeneratedCollectionDetails":"C:\\projects\\lightning\\business-objects\\GeneratedCollectionDetails.js","../media/MediaInterface":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\MediaInterface.js","../media/models/TitleCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\TitleCollection.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\collection_campaign_page\\PageManager.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./CollectionDefinition"),c=n(l),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"fetchRoomById",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home";return this.url=window.url(window.routes.rest.rooms.get,{roomId:t}),new Promise(function(t,i){e.fetch({timeout:1e4,success:function(e,i,n){return t(i)},error:function(e,t,n){return i(t)}})})}},{key:"fetchCampaignById",value:function(e){return new Promise(function(t,i){$.ajax({url:window.url(window.routes.rest.campaigns.get,{campaignId:e}),dataType:"json",timeout:1e4}).done(function(e){return t(e)}).fail(function(e,t,n){return i(e)})})}},{key:"fetchCollectionById",value:function(e){return new Promise(function(t,i){$.ajax({url:window.url(window.routes.rest.collections.getById,{id:e}),dataType:"json",timeout:1e4}).done(function(e){return t(new c["default"](e))}).fail(function(e,t,n){return i(e)})})}},{key:"getView",value:function(e){return this.isLoaded?"home"===(e||"").toLowerCase()?_(this.attributes.views).findWhere({isDefault:!0}):_(this.attributes.views).findWhere({name:e}):null}},{key:"getCampaigns",value:function(){return this.isLoaded&&this.attributes.campaigns}},{key:"idAttribute",get:function(){return"pageId"}},{key:"isLoaded",get:function(){return!_.isEmpty(this.attributes)}}]),t}(Backbone.Model);i["default"]=u},{"./CollectionDefinition":"C:\\projects\\lightning\\public\\ecmascript\\components\\collection_campaign_page\\CollectionDefinition.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\HashManager.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("querystring"),s=n(a),l=function(){function e(){r(this,e)}return o(e,null,[{key:"parse",value:function(){var e=s["default"].parse(location.hash.substr(1));return _.keys(e).forEach(function(t){e[t]=_.flatten([e[t]||[]])}),e}},{key:"update",value:function(e){var t=s["default"].stringify(e);"&"!==t&&(location.hash=t)}},{key:"get",value:function(e){var t=this.parse();return _.isString(e)?t[e]:t}},{key:"set",value:function(e,t){var i=this.parse();i[e]=_.flatten([t]),this.update(i)}},{key:"push",value:function(e,t){var i=this.parse();i[e]=i[e]||[],i[e].push(t),this.update(i)}},{key:"remove",value:function(e){var t=this.parse();t[e]&&delete t[e],this.update(t)}}]),e}();i["default"]=l},{querystring:"C:\\projects\\lightning\\node_modules\\querystring-es3\\index.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\modal.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0}),i.Modal=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../../util/keycodes"),c=n(l),u=e("./templates/modal.html"),d=n(u),p=function(e){function t(){var e,i,n,a;r(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.isSelectEvent=function(e){return("click"===e.type||13===e.which||32===e.which)&&(e.preventDefault()||!0)},a=i,o(n,a)}return a(t,e),s(t,[{key:"initialize",value:function(e){_.extend(this,this.defaults,e),this.tpl=d["default"],this.setElement(this.tpl(this)),this.id.length&&this.$el.attr("id",this.id),this.$content=this.$el.find(".modal-container"),this.$content.empty().append(this.content),this.$el.addClass(this.classes.join(" ")),this.$title=this.$el.find(".modal-title"),this.hiddenTitle&&this.$title.css("opacity","0"),this.autoRender&&this._render(),this._bindEvents()}},{key:"_render",value:function(){return this.attachToDocument&&$("body").append(this.el),this.autoShow&&this.show(),this}},{key:"_bindEvents",value:function(){var e=this;this.$el.on("click keydown",".js-close",function(t){e.isSelectEvent(t)&&e.trigger("cancel",e)}),this.defaultButtonBehaviour&&this.on("close cancel",function(){e.close()}),this.$el.on("keypress","*",function(t){t.which===c["default"].TAB&&e._keepFocus(t)})}},{key:"show",value:function(){var e=this;this._beforeShow(),this.$el.foundation("reveal","open"),this.trigger("show",this),this.$el.on("keydown",function(t){e._keepFocus(t)}),this.$el.on("opened.fndtn.reveal",function(){return e._afterShow()}),this.$el.off("closed"),this.$el.on("close.fndtn.reveal",function(){e.$el.off("close.fndtn.reveal"),e.trigger("close")})}},{key:"_beforeShow",value:function(){this.focused=$(document.activeElement)}},{key:"_afterShow",value:function(){this.$el.attr("aria-hidden",!1),$(".container").attr("aria-hidden","true"),$(".row.footer").attr("aria-hidden","true"),$(".nav-container").attr("aria-hidden","true"),this.$title.focus(),this._setScroll()}},{key:"_setScroll",value:function(){var e=window.pageYOffset-parseInt(this.$el.css("top").slice(0,-2),10);window.innerHeight<this.el.offsetHeight-e?e=Math.min(this.el.offsetHeight-window.innerHeight+10,-5):window.innerWidth<641&&(e-=5),this.el.scrollIntoView(),window.scrollBy(0,e)}},{key:"_keepFocus",value:function(e){var t=$(document.activeElement),i=this.$title||this.$el.find(":focusable:visible").first(),n=this.$el.find(":focusable:visible").last();t.is(i)&&e.which===c["default"].TAB&&e.shiftKey?(e.preventDefault(),n.focus()):$(t).is(n)&&e.which===c["default"].TAB&&!e.shiftKey&&(e.preventDefault(),i.focus())}},{key:"hide",value:function(){this.$el.foundation("reveal","close"),this.trigger("hide",this),$(".container").attr("aria-hidden","false"),$(".row.footer").attr("aria-hidden","false"),$(".nav-container").attr("aria-hidden","false"),this.focused.focus()}},{key:"close",value:function(){this.hide(),this.remove()}},{key:"defaults",get:function(){return{autoShow:!0,autoRender:!0,closeOnEsc:!0,closeOnBlur:!0,id:"",classes:["small"],buttonAlign:"right",title:"Title",hiddenTitle:!1,content:"Some Content",submitText:html("ok"),cancelText:html("cancel"),attachToDocument:!0,defaultButtonBehaviour:!0,showCloseButton:!0}}}]),t}(Backbone.View);i.Modal=p},{"../../util/keycodes":"C:\\projects\\lightning\\public\\ecmascript\\util\\keycodes.js","./templates/modal.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\templates\\modal.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\templates\\modal.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.title,i=e.closeOnEsc,n=e.closeOnBlur,r=e.showCloseButton;return'<div class="reveal-modal" aria-hidden="true" role="dialog" data-reveal data-options="close_on_esc:'+i+";close_on_background_click:"+n+';">\n    <div class="modal-header">\n        <h2 class="modal-title primary-color" tabindex="0">'+t+"</h2>\n        "+(r?'<a class="close-reveal-modal js-close" role="button" aria-label="'+window.html("close")+'" tabindex="0">&#215;</a>':"")+'\n    </div>\n\n    <div class="modal-container"></div>\n</div>'}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\holds_ratio_help_modal\\templates\\HoldInformation.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.expirationWarning,i=e.description,n=e.details,r=e.note;return"\n    "+(t.length>0?"<p class='expiration-warning'>"+t+"</p>":"")+"\n    "+(i.length>0?"<p class='description'>"+i+"</p>":"")+"\n    "+n.map(function(e){return"<p class='detail'>"+e+"</p>"}).join("")+"\n    "+(r.length>0?"<p class='note'>"+r+"</p>":"")+"\n"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\holds_ratio_help_modal\\views\\HoldInformation.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../templates/HoldInformation.html"),c=n(l),u=window,d=u.html,p=u.url,f=u.routes,h=function(e){function t(e){var i=e.type;r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.el=n.el||document.createElement("div"),n.el.className=n.el.className+" HoldInformation",n.type=i||"basic",n}return a(t,e),s(t,[{key:"expirationWarning",get:function(){var e=this.model.get("isOwned")&&!this.model.get("ownedCopies");return e?"successPosition"===this.type?d("holdsRatioHelpModal.noCopiesOnPlaceHold")+" <a class='HoldSuccessModal-link' href='"+p(f.accountHolds)+"'>"+d("holdSuccessModal.manageHolds")+"</a>":d("onHold"===this.model.get("titleState")?"holdsRatioHelpModal.noCopiesTextHeld":"holdsRatioHelpModal.noCopiesText"):""}},{key:"description",get:function(){var e=this.model.get("holdsRatio"),t=this.model.get("holdListPosition")||0;if(this.model.get("isPreReleaseTitle")&&0===t)return d("preReleaseModal.borrowUponRelease");switch(this.type){case"ratio":return e?e>=1?d("holdsRatioHelpModal.listPositionHtml",{holdsRatio:this.model.get("holdsRatio")}):d("holdsRatioHelpModal.nextAvailable"):"";case"basicPosition":
case"successPosition":case"basic":default:return""}}},{key:"details",get:function(){var e=this.model.get("holdsCount")||0,t=this.model.get("ownedCopies")||0,i=this.model.get("holdListPosition")||0;switch(this.type){case"basicPosition":case"successPosition":return[d("holdsRatioHelpModal.yourHoldsPositionHtml",{holdListPosition:i,holdsCount:e}),d("holdsRatioHelpModal.libraryCopies",{ownedCopies:t})];case"ratio":case"basic":default:return[d("holdsRatioHelpModal.totalHoldsHtml",{holdsCount:e}),d("holdsRatioHelpModal.libraryCopies",{ownedCopies:t})]}}},{key:"note",get:function(){return this.model.get("isFastlane")?d("advantageFastPassHtml"):""}}]),s(t,[{key:"render",value:function(){var e=(0,c["default"])({expirationWarning:this.expirationWarning,description:this.description,details:this.details,note:this.note});return this.$el.empty().append(e),this}}]),t}(Backbone.View);i["default"]=h},{"../templates/HoldInformation.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\holds_ratio_help_modal\\templates\\HoldInformation.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\holds_ratio_help_modal\\views\\HoldInformationModal.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../../common/modal"),l=e("./HoldInformation"),c=n(l),u=function(e){function t(e){var i=e.model,n=e.type;r(this,t);var a=new c["default"]({model:i,type:n}).render(),s={classes:["HoldInformationModal"],title:window.html("holdsRatioHelpModal.heading"),content:a.el};return o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,s))}return a(t,e),t}(s.Modal);i["default"]=u},{"../../common/modal":"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\modal.js","./HoldInformation":"C:\\projects\\lightning\\public\\ecmascript\\components\\holds_ratio_help_modal\\views\\HoldInformation.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\ContextMenu.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./templates/ContextMenu.html"),c=n(l),u=window,d=u.featureManager,p=u.url,f=u.routes,h=u.OverDrive,m=u.text,g=u.html,b=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.template=c["default"],e.isKeyboardSelectEvent=function(e){return(13===e.which||32===e.which)&&(e.preventDefault()||!0)},e.rid=Math.random().toString(36).substring(7),e.listenTo(e.model,"change:isInHistory",function(){return e.render()}),e.render(),e}return a(t,e),s(t,[{key:"events",value:function(){return{"click .js-historyAction":"_handleClick","keydown .js-historyAction":"_handleKey","keydown .js-context-button":"toggle"}}},{key:"_handleClick",value:function(){this.model.trigger("title:action",{action:"history",model:this.model})}},{key:"_handleKey",value:function(e){e.stopImmediatePropagation(),13!==e.keyCode&&32!==e.keyCode||this.model.trigger("title:action",{action:"history",model:this.model})}},{key:"_getSampleText",value:function(){var e=this.model.get("type").id;return m("audiobook"===e||"music"===e?"sampleListen":"video"===e?"sampleWatch":"sampleRead")}},{key:"_getHistoryActionLabel",value:function(){var e=this.model.get("title");return this.model.get("isInHistory")?g("readingHistory.removeTitle",{title:e}):g("readingHistory.addTitle",{title:e})}},{key:"_getHistoryActionText",value:function(){return g(this.model.get("isInHistory")?"readingHistory.remove":"readingHistory.add")}},{key:"render",value:function(){return this.$el.empty().append(this.template(this.viewModel)),this}},{key:"toggle",value:function(e){this.isKeyboardSelectEvent(e)&&window.Foundation.libs.dropdown.toggle(this.$el.find(".js-context-button"))}},{key:"viewModel",get:function(){var e="";return d.isEnabled("enhancedSeries")&&this.model.get("detailedSeries")?e=p(f.searchByType,{type:"seriesId",query:this.model.get("detailedSeries").seriesId,sortBy:"readingOrder"}):this.model.get("series")&&(e=p(f.searchByType,{type:"series",query:this.model.get("series"),sortBy:"newlyadded"})),{id:this.model.id,rid:this.rid,title:this.model.get("title"),typeId:this.model.get("type").id,sampleHref:this.model.get("sample").href||"",sampleText:this._getSampleText(),alignment:"bottom",historyActionLabel:this._getHistoryActionLabel(),historyActionText:this._getHistoryActionText(),historyEnabled:h.showHistoryFeature&&!this.model.get("isPreReleaseTitle"),gaHistoryAction:this.model.get("isInHistory")?"history-remove":"history-add",seriesSearchUrl:e}}}]),t}(Backbone.View);i["default"]=b},{"./templates/ContextMenu.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\ContextMenu.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\Cover.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./templates/Cover.html"),c=n(l),u=e("./templates/NoCover.html"),d=n(u),p=window,f=p.Logger,h=function(e){function t(e){var i=e.coverWidths,n=e.isInHero,a=e.isTitleHistory,s=void 0!==a&&a;r(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return l.coverWidths=_.extend({mobile:145,tablet:160,desktop:190},i),l.isInHero=n,l.isTitleHistory=s,l.listenTo(l.model,"change",l._render),l._render(),l}return a(t,e),s(t,[{key:"remove",value:function(){$(window).off("resize."+this.model.id)}},{key:"_render",value:function(){var e=this,t=this.model.toJSON(),i=detectshun.browser(),n=i.mobile?this.coverWidths.mobile:i.tablet?this.coverWidths.tablet:this.coverWidths.desktop,r=this.model.getCover(n);if(this.model.isPlaceholder){var o='<div class="CoverImageContainer"></div>';this.$el.empty().append(o)}else if(r&&r.href){var a=$((0,c["default"])({media:t,coverColor:r&&r.primaryColor&&r.primaryColor.hex||"inherit",src:r&&r.href,href:this.model.titleDetailsUrl,label:window.text("cover.coverImageLabel",{title:t.title,creator:t.firstCreatorName}),noSampleClass:null==t.sample.href?"is-noSample":""}));a.find("img").on("error",function(){f.log("error","CDN Error",{type:"image",titleId:t.id,src:r&&r.href});var i=JSON.parse(JSON.stringify(e.model.attributes.covers));_(i).each(function(e){delete e.href}),e.model.set({covers:i})}),this.$el.empty().append(a)}else if(this.isTitleHistory)this.$el.empty().append('<a href="'+this.model.titleDetailsUrl+'">\n                    <img alt="'+window.html("coverImageForTitle",{title:t.title})+'" class="history-noCover" src="/public/img/no-cover_en_US.jpg">\n                </a>');else{var s=this.model.isMagazine?this.model.get("edition"):this.model.get("firstCreatorName");this.$el.empty().append((0,d["default"])({media:t,href:this.model.titleDetailsUrl,isInHero:this.isInHero,coverWidth:n,coverHeight:293*n/220,creatorText:s})),$(window).on("resize."+this.model.id,_.bind(this._manageOverflow,this,".CoverImageContainer .noCoverAvailable .title",this.model.get("title"))),$(window).on("resize."+this.model.id,_.bind(this._manageOverflow,this,".CoverImageContainer .noCoverAvailable .author",s)),$(window).on("resize."+this.model.id,_.bind(this._resizeClearImage,this)),setTimeout(function(){e._manageOverflow(".CoverImageContainer .noCoverAvailable .title",e.model.get("title")),e._manageOverflow(".CoverImageContainer .noCoverAvailable .author",s),e._resizeClearImage()},1)}return this}},{key:"_resizeClearImage",value:function(){var e=this.el.querySelector("img");e&&$(e).height(293*$(e).parent().width()/220)}},{key:"_manageOverflow",value:function(e,t){var i=this.el.querySelector(e);if(i&&(i.innerHTML=t,e.indexOf(".title")!==-1?$(i).width()<100?$(i).css("font-size","14px"):$(i).width()<125&&$(i).width()>=100?$(i).css("font-size","16px"):$(i).width()<150&&$(i).width()>=125?$(i).css("font-size","18px"):$(i).width()>=150&&$(i).css("font-size","20px"):e.indexOf(".author")!==-1&&($(i).width()<110?$(i).css("font-size","10px"):$(i).width()<135&&$(i).width()>=110?$(i).css("font-size","12px"):$(i).width()<160&&$(i).width()>=135?$(i).css("font-size","14px"):$(i).width()>=160&&$(i).css("font-size","16px")),i.scrollHeight>0&&i.scrollHeight>i.clientHeight)){var n=i.innerHTML;for(n=n.replace(/\W+$/g,"")+"...";"..."!==n&&i.scrollHeight>i.clientHeight;)n=n.replace(/\W*\w\W*(\.{3})$/g,"$1"),i.innerHTML=n}}}]),t}(Backbone.View);i["default"]=h},{"./templates/Cover.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\Cover.html.js","./templates/NoCover.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\NoCover.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\MediaInterface.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../../../../models/dao/MediaParameters"),s=n(a),l=e("./models/TitleCollection"),c=n(l),u=function(){function e(){r(this,e),_.extend(this,Backbone.Events),this.items=new c["default"],this.facets={},this.sortOptions=[]}return o(e,[{key:"quickSearch",value:function(e,t){return this._fetch(_.extend({},{query:e},t))}},{key:"search",value:function(e,t){return this._fetch(_.extend({},e,t))}},{key:"fetchCollectionById",value:function(e,t){return this._fetch(_.extend({},{collectionId:e},t))}},{key:"fetchCollectionByParameters",value:function(e,t){return this._fetch(_.extend({},e,t))}},{key:"fetchEmptyResponse",value:function(){this.trigger("sync:start",this,{mediaParameters:null});var e={items:[],facets:{},sortOptions:[]};return this._fetchDone(e,"synthetic"),this.trigger("sync:end",this),Promise.resolve(e)}},{key:"_fetch",value:function(e){var t=this;e||(e={}),e.includedFacets||e.titleId||(e.includedFacets=window.OverDrive.supportedFacets);var i=new s["default"](e);return this.trigger("sync:start",this,{mediaParameters:i}),new Promise(function(e,n){$.ajax({url:window.url(window.routes.rest.media.index),method:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(i.serialize()),timeout:1e4}).done(function(i,n,r){t._fetchDone(i,n,r),t.trigger("sync:end",t),e(i)}).fail(function(e,i,r){t._fetchFail(e,i,r),t.trigger("sync:end",t),n(e)})})}},{key:"_fetchDone",value:function(e,t,i){this.items.reset(e.items),this.trigger("sync:success",this,{data:e,textStatus:t,jqXHR:i})}},{key:"_fetchFail",value:function(e,t,i){this.trigger("sync:fail",this,{jqXHR:e,textStatus:t,errorThrown:i})}}]),e}();i["default"]=u},{"../../../../models/dao/MediaParameters":"C:\\projects\\lightning\\models\\dao\\MediaParameters.js","./models/TitleCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\TitleCollection.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleActionButton.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./views/SplitBorrowButton"),c=n(l),u=function(e){function t(e){var i=e.type,n=void 0===i?"link":i,a=e.action,s=e.style;r(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return l.isSelectEvent=function(e){return("click"===e.type||13===e.which||32===e.which)&&(e.preventDefault()||!0)},l.type=n,l.hasCustomAction=!1,a&&(l.action=a,l.hasCustomAction=!0),l.style=s,l.$button=$("<button />"),l.listenTo(l.model,"change:titleState",l.render),l.render(),l}return a(t,e),s(t,[{key:"render",value:function(){if(this.$button.off(),this.$el.off(),"splitButton"===this.type&&"borrow"===this.state){var e=new c["default"]({model:this.model,style:this.style,el:this.el});this.$button=e.$el,this._attachEventHandlers(e.$button)}else{var t=this.getButtonAttrs();_(t.href).isEmpty()?this.$button=$("<button />",t):this.$button=$("<a />",t),(_(t.href).isEmpty()||this.hasCustomAction)&&this._attachEventHandlers(this.$button),this.$el.empty().append(this.$button)}return this}},{key:"waiting",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.$button.off(".titleActionButton").addClass("waiting").attr("disabled",e).append('<div class="spinner"></div>'):(this.$button.removeClass("waiting").attr("disabled",e).find(".spinner").remove(),this._attachEventHandlers(this.$button)),this}},{key:"_attachEventHandlers",value:function(e){var t=this;e.off(".titleActionButton"),e.on("click.titleActionButton",function(e){t.isSelectEvent(e)&&t.action(e)}),e.on("keydown.titleActionButton",function(e){t.isSelectEvent(e)&&t.action(e)})}},{key:"action",value:function(e){this.isSelectEvent(e)&&this._triggerTitleAction()}},{key:"_triggerTitleAction",value:function(){this.model.trigger("title:action",{action:this.state,model:this.model})}},{key:"getButtonAttrs",value:function(){var e={"data-media-id":this.model.id,"data-type":this.model.attributes.type.id,"data-type-name":this.model.attributes.type.id&&window.html(this.model.attributes.type.id)||"",html:this.$button.html&&this.$button.html()||"",tabindex:0},t=this.model.attributes.title,i=["TitleActionButton","u-allCaps"];if(this.isButton){var n;(n=i).push.apply(n,["button","radius","is-button","secondary"])}switch("fill"===this.style&&i.push("fill"),this.state){case"recommend":i.push("is-recommend"),this.isLink&&i.push("secondary-color"),e.html="<span>"+window.html("recommend")+"</span>",e["aria-label"]=window.html("recommendTitle",{title:t});break;case"recommended":this.isButton&&(i.push("outline gray"),i=_(i).without("secondary")),i.push("is-recommended"),e.html="<span>"+window.html("recommended")+"</span>",e.href=window.url(window.routes.accountRecommendations);break;case"unavailable":i.push("is-unavailable js-unavailable disabled"),e.html="<span>"+window.html("availabilityUnavailable")+"</span>";break;case"nook":i.push("is-nook js-nook"),e.html="<span>"+window.html("sendToNook")+"</span>";break;case"preview":this.isLink&&i.push("secondary-color"),i.push("is-preview js-preview secondary"),e.html="<span>"+window.html("demoMode.preview")+"</span>",e["aria-label"]=window.html("demoMode.previewTitle",{title:t});break;case"borrow":this.isLink&&i.push("secondary-color"),i.push("is-borrow js-borrow secondary"),e.html="<span>"+window.html("borrow")+"</span>",e["aria-label"]=window.html("borrowTitle",{title:t});break;case"borrowed":i.push("is-borrowed js-borrowed"),e.html="<span>"+window.html("goToLoans")+"</span>",e.href=window.url(window.routes.accountLoans);break;case"hold":this.isLink&&i.push("secondary-color-hover"),i.push("is-hold js-hold"),e.html="<span>"+window.html("placeAHold")+"</span>",e["aria-label"]=window.html("placeAHoldOnTitle",{title:t});break;case"onHold":this.isButton&&i.push("primary"),i.push("is-onHold js-onHold"),e.html="<span>"+window.html("goToHolds")+"</span>",e.href=window.url(window.routes.accountHolds);break;case"listenNow":i.push("is-listenNow"),e.html="<span>"+window.html("listenNow")+"</span>",e.href=window.url(window.routes.mediaDownload,{format:"audiobook-overdrive",mediaId:this.model.id}),e.target="_blank";break;case"readNow":i.push("is-readNow"),e.html="<span>"+window.html("readNow")+"</span>",e.href=window.url(window.routes.mediaDownload,{format:"ebook-overdrive",mediaId:this.model.id}),e.target="_blank";break;case"addToApp":this.isLink&&i.push("secondary-color-hover"),i.push("is-addToApp"),e.html="<span>"+window.html("addToApp")+"</span>",e.href=window.url(window.routes.mediaDownload,{format:this.model.get("addToAppFormat"),mediaId:this.model.id});break;case"waiting":if(this.isLink){var r=$(window.primaryActionLoadingGif);r.css("width","inherit"),e.html=r;break}i.push("waiting secondary"),e.disabled=!0,e.html='<span>working</span><div class="spinner"></div>'}return e["class"]=i.join(" "),e}},{key:"isButton",get:function(){return"button"===this.type||"splitButton"===this.type}},{key:"isLink",get:function(){return"link"===this.type}},{key:"state",get:function(){return this.model.get("titleState")}}]),t}(Backbone.View);i["default"]=u},{"./views/SplitBorrowButton":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCard.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function j(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:j(r,t,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("./templates/TitleCard.html"),u=n(c),d=e("./views/TitleInfo"),p=n(d),f=e("./TitleActionButton"),h=n(f),m=e("./WishListButton"),g=n(m),b=e("./TitleHeaderBar"),v=n(b),y=e("./Cover"),w=n(y),_=function(e){function t(e){var i=e.coverWidths,n=e.isInHero,a=void 0!==n&&n;r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return s.template=u["default"],s._views=[],s.coverWidths=i,s.isInHero=a,s.render(),s}return a(t,e),l(t,[{key:"className",get:function(){return"title-container title"}}]),l(t,[{key:"render",value:function(){var e=this.model,t=this.coverWidths,i=this.isInHero;this.$el.empty(),this._views.forEach(function(e){return e.remove()}),this._views=[];var n=$(this.template());return this.model.isPlaceholder&&this.$el.addClass("placeholder"),this._views.push(this.titleHeaderBar=new v["default"]({model:e,el:n.find(".TitleHeaderBar")})),this._views.push(this.cover=new w["default"]({model:e,el:n.find(".CoverImage"),coverWidths:t,isInHero:i})),this._views.push(this.titleInfo=new p["default"]({model:e,el:n.find(".TitleInfo")})),this._views.push(this.titleActionButton=new h["default"]({model:e,el:n.find(".TitleAction")})),window.featureManager.isEnabled("internationalDemoMode")||this._views.push(this.wishlistButton=new g["default"]({model:e,el:n.find(".TitleWishlist"),type:"icon-only"}).render()),this.$el.append(n),this}},{key:"remove",value:function(){this._views.forEach(function(e){return e.remove()}),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}}]),t}(Backbone.View);i["default"]=_},{"./Cover":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\Cover.js","./TitleActionButton":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleActionButton.js","./TitleHeaderBar":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleHeaderBar.js","./WishListButton":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\WishListButton.js","./templates/TitleCard.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitleCard.html.js","./views/TitleInfo":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCardListView.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=e("./views/TitleInfoListView"),o=n(r),a=e("./TitleActionButton"),s=n(a),l=e("./WishListButton"),c=n(l),u=e("./TitleHeaderBar"),d=n(u),p=e("./Cover"),f=n(p),h=e("./views/TitleDescription.js"),m=n(h),g=window.Backbone,b=(e("path"),'<div class="title-contents card">    \n    <div class="title TitleCard">\n        <div class="TitleHeaderBar"></div>\n        <div class="CoverImage"></div>\n    </div>\n\n    <div class="TitleInfo"></div>\n\n    <div class="row">\n        <div class="columns small-12">\n            <div class="title-description"></div>\n        </div>\n    </div>\n\n    <div class="action-buttons list-view">\n        <div class="TitleAction"></div>\n        <div class="TitleWishlist is-full"></div>\n    </div>\n</div>\n'),v=g.View.extend({className:"title-container",template:_.template(b),initialize:function(e){var t=(e.bus,e.coverWidths),i=this.model,n=$(this.template());this.titleHeaderBar=new d["default"]({model:i,el:n.find(".TitleHeaderBar")}),this.cover=new f["default"]({model:i,el:n.find(".CoverImage"),coverWidths:t,isInHero:!1}),this.titleInfo=new o["default"]({model:i,el:n.find(".TitleInfo")}),this.titleActionButton=new s["default"]({model:i,el:n.find(".TitleAction"),type:"button",style:"fill"}),window.featureManager.isEnabled("internationalDemoMode")||(this.wishlistButton=new c["default"]({model:i,el:n.find(".TitleWishlist"),type:"with-text"}).render()),this.titleDescription=new m["default"]({model:i,el:n.find(".title-description")}),this.$el.html(n)}});t.exports=v},{"./Cover":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\Cover.js","./TitleActionButton":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleActionButton.js","./TitleHeaderBar":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleHeaderBar.js","./WishListButton":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\WishListButton.js","./views/TitleDescription.js":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleDescription.js","./views/TitleInfoListView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfoListView.js",path:"C:\\projects\\lightning\\node_modules\\path-browserify\\index.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCollectionView.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=function w(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},u=e("../../util/title-actions/processForwardedAction"),d=n(u),p=e("../../components/common/HashManager"),f=n(p),h=e("./TitleCard"),m=n(h),g=e("../../title-actions/TitleActions"),b=n(g),v=e("he"),y=function(e){function t(e){var i=e.bus,n=e.patronMediaItemsModel,r=e.View,s=e.attributes,l=e.coverWidths,c=e.isInHero,u=e.context;o(this,t);var d=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return d._views=[],d.bus=i,d.View=r||m["default"],d.attributes=_.extend({},s),d.coverWidths=l,d.isInHero=c,d.context=u,d.titleActions=new b["default"]({bus:d.bus,context:u}),d.listenTo(d.collection,"title:action",d._handleTitleAction),n&&window.OverDrive.isAuthenticated&&window.OverDrive.hasLinkedCards&&n.initialFetch().then(function(e){d._updateMediaStates(e)}),d.render(),d}return s(t,e),l(t,[{key:"_handleTitleAction",value:function(e){var t=e.action,i=e.model;this.titleActions.perform(t,i)}},{key:"_updateMediaStates",value:function(e){var t=this,i=[];_(_.values(e)).each(function(e){if(_.isArray(e)){var t;(t=i).push.apply(t,r(e))}else if(_.isObject(e)){var n;(n=i).push.apply(n,r(_.keys(e).map(Number)))}else i.push(e)}),i=_.uniq(i),i.forEach(function(i){var n=t.collection.get(i);n&&n.updatePatronState(e)}),this._performForwardedAction()}},{key:"render",value:function(){var e=this,t=document.createDocumentFragment();this._views.forEach(function(e){return e.remove()}),this._views=[],this.collection.forEach(function(i){i.set("title",v.decode(i.get("title"))),i.setContext(e.context);var n=new e.View({model:i,bus:e.bus,coverWidths:e.coverWidths,isInHero:e.isInHero});t.appendChild($("<li />",{"class":"js-titleCard Item"}).append(n.$el)[0]),e._views.push(n)});var i=$(".collection-title-container");this.$el.attr(this.attributes),this.$el.empty().append(i).append(t)}},{key:"remove",value:function(){this._views.forEach(function(e){return e.remove()}),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"_performForwardedAction",value:function(){if(window.OverDrive.isAuthenticated&&window.OverDrive.hasLinkedCards&&f["default"].get("action")){var e=new d["default"](this.collection,this.bus);e.executeAction(),window.forwardedAction=e}}},{key:"tagName",get:function(){return"ul"}}]),t}(Backbone.View);i["default"]=y},{"../../components/common/HashManager":"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\HashManager.js","../../title-actions/TitleActions":"C:\\projects\\lightning\\public\\ecmascript\\title-actions\\TitleActions.js","../../util/title-actions/processForwardedAction":"C:\\projects\\lightning\\public\\ecmascript\\util\\title-actions\\processForwardedAction.js","./TitleCard":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCard.js",he:"C:\\projects\\lightning\\node_modules\\he\\he.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleHeaderBar.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=window.Backbone,r=n.View.extend({initialize:function(){this.listenTo(this.model,"change",this.render),this.$titleHeaderBar=$("<div />"),this.render()},render:function(){var e=this.returnState();return this.$titleHeaderBar=$("<div />",e.container).append($("<a />",e.link)),this.$el.html(this.$titleHeaderBar),this.$el.attr("aria-hidden","true"),this},returnState:function(){var e={container:{classes:["title-header-bar","u-allCaps"]},link:{text:"",href:this.model.titleDetailsUrl,tabindex:-1}};switch(this.action=this.model.get("titleState"),this.action){case"recommend":e.container.classes.push("is-recommend not-owned-title"),e.link.text=window.html("availabilityNotOwned");break;case"recommended":e.container.classes.push("is-recommended not-owned-title"),e.link.text=window.html("recommended");break;case"unavailable":e.container.classes.push("is-unavailable unavailable-title"),e.link.text=window.html("availabilityUnavailable");break;case"nook":e.container.classes.push("is-nook available-title secondary-background"),e.link.text=window.html("availabilityAvailable");break;case"borrow":e.container.classes.push("available-title secondary-background is-borrow"),e.link.text=window.html("availabilityAvailable");break;case"borrowed":case"addToApp":case"listenNow":case"readNow":e.container.classes.push("is-borrowed available-title secondary-background"),e.link.text=window.html("borrowed");break;case"hold":e.container.classes.push("is-hold unavailable-title"),e.link.text=this.model.get("isPreReleaseTitle")?window.html("availabilityComingSoon"):window.text("availabilityWaitList");break;case"onHold":e.container.classes.push("is-onHold unavailable-title"),e.link.text=window.html("onHold");break;case"waiting":e.container.classes=this.$titleHeaderBar.attr("class").split(" "),e.link.text=this.$titleHeaderBar.find("a:first").text()}return e.container["class"]=e.container.classes.join(" "),e}});i["default"]=r},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\WishListButton.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./templates/WishListButton.html"),c=n(l),u=function(e){function t(e){var i=e.type,n=e.contrast;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return a.type=i||"icon-only",a.contrast=n||"default",a.listenTo(a.model,"change:wishlistState",a.render),a.type=i||"icon-only",a}return a(t,e),s(t,[{key:"contrastClass",get:function(){return"default"===this.contrast?"":"contrast-alternate"}},{key:"ariaLabel",get:function(){var e=this.model.attributes.title;return"wishlistAdd"===this.model.get("wishlistState")?window.html("addTitleToWishList",{title:e}):window.html("removeTitleFromWishList",{title:e})}},{key:"iconClass",get:function(){return"wishlistAdd"===this.model.get("wishlistState")?"icon-wish-list":"icon-wish-list-added"}},{key:"text",get:function(){return"icon-only"===this.type?"":"wishlistAdd"===this.model.get("wishlistState")?window.html("addToWishList"):window.html("removeFromWishList")}},{key:"ga",get:function(){var e="wishlistAdd"===this.model.get("wishlistState");return e?{mediaId:this.model.attributes.id,formatType:this.model.attributes.type.id}:null}}]),s(t,[{key:"events",value:function(){return{click:"_handleClick"}}},{key:"render",value:function(){if(this.el&&!(this.$el.length<1)){var e=this.el.querySelector(".WishListButton")===document.activeElement;if(this.$el.empty(),_(["recommend","recommended"]).contains(this.model.get("titleState")))return this;var t=(0,c["default"])({ga:this.ga,contrastClass:this.contrastClass,ariaLabel:this.ariaLabel,iconClass:this.iconClass,text:this.text});return this.$el.append(t),e&&this.el.querySelector(".WishListButton").focus(),this}}},{key:"_handleClick",value:function(){this.model.trigger("title:action",{action:"wish",model:this.model}),this._animate()}},{key:"_animate",value:function(){this.$el.find("i").removeClass("animated bounceIn bounceOut").addClass("animated bounceOut")}}]),t}(Backbone.View);i["default"]=u},{"./templates/WishListButton.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\WishListButton.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\LendingPeriod.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"defaults",get:function(){return{isPreferredLendingPeriod:!1,lendingPeriod:1,units:"days",selected:!1}}},{key:"period",get:function(){var e=this.get("lendingPeriod");if("minutes"===this.get("units")){var t=e%1440;return{days:(e-t)/1440,hours:Math.ceil(t/60)}}return{days:e}}},{key:"label",get:function(){var e=[];return!!this.period.days&&this.period.days>0&&e.push(window.html("accountLoans.expiresDays",{time:this.period.days})),!!this.period.hours&&this.period.hours>0&&e.push(window.html("accountLoans.expiresHours",{time:this.period.hours})),window.html("borrowForTextHtml",{text:e.join(" ")})}}]),t}(Backbone.Model);i["default"]=s},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\LendingPeriodCollection.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./LendingPeriod"),c=n(l),u=function(e){function t(e){var i=e.mediaId,n=void 0===i?0:i;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return a.model=c["default"],a.mediaId=n,a}return a(t,e),s(t,[{key:"url",get:function(){return window.url(window.routes.patronLendingPeriod,{mediaId:this.mediaId})}}]),t}(Backbone.Collection);i["default"]=u},{"./LendingPeriod":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\LendingPeriod.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\MediaViewPreference.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(e){function t(e){n(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.defaults={view:t.options.grid},i.set({view:Cookies.get("media-view-preference")||t.options.grid}),i.listenTo(i,"change:view",function(e,t){Cookies.set("media-view-preference",t,{httpOnly:!1,expires:365})}),i}return o(t,e),t}(Backbone.Model);a.options={grid:"grid",list:"list"},i["default"]=a},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\Title.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function g(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:g(r,t,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("../../../title-actions/TitleState"),u=n(c),d=e("../MediaInterface"),p=n(d),f=window.OverDrive.features.isEnabled("image-opto-service"),h=window.OverDrive.features.isEnabled("image-opto-auto-format"),m=function(e){function t(e,i,n){r(this,t);var a=i||{},s=a.patronItems,l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return l.setContext(n),l.set(_.extend({},e,{titleState:l._getState(s)})),l.isPlaceholder||l.link(window.globalEvents),l}return a(t,e),l(t,[{key:"defaults",value:function(){return{id:0,firstCreatorName:"Author",title:"Title",firstCreatorId:0,formats:[],isOwned:!1,isHoldable:!1,isRecommendableToLibrary:!1,isPreReleaseTitle:!1,isAvailable:!1,starRating:0,userStarRating:0,starRatingCount:0,holdsRatio:0,holdsCount:0,ownedCopies:0,availableCopies:0,estimatedReleaseDate:"",availabilityType:"",description:"",sample:{},publisher:{},type:{id:"ebook"},covers:{},titleState:"waiting",isRecommended:!1,wishlistState:"wishlistAdd",isInHistory:!1,addToAppFormat:null}}},{key:"setContext",value:function(e){this.context=e}},{key:"idAttribute",get:function(){return"id"}},{key:"isPlaceholder",get:function(){return this.get("placeholder")}}]),l(t,[{key:"link",value:function(e){var t=this;return this.bus&&(this.stopListening(this.bus,"title:update"),this.bus=null),e&&(this.bus=e,this.listenTo(this.bus,"title:update",function(e){t._applyUpdates(e)})),this}},{key:"_applyUpdates",value:function(e){e!==this&&e.id===this.id&&s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e.changedAttributes())}},{key:"set",value:function(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).apply(this,arguments),this.bus&&this.bus.trigger("title:update",this)}},{key:"updatePatronState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.set({titleState:this._getState(e),wishlistState:u["default"].isOnWishlist(this.attributes,e)?"wishlistRemove":"wishlistAdd",userStarRating:u["default"].starRating(this.attributes,e)},t);var i=u["default"].isOnReadingHistory(this.attributes,e);this.set("isInHistory",i,t||{});var n=u["default"].starRating(this.attributes,e);this.set("userStarRating",n,t||{})}},{key:"getCover",value:function(e){var t=_.map(this.get("covers"),function(e){return e}),i=_.sortBy(t,"width");if(f){var n=Object.assign({},_.last(t));if(n&&n.href){var r="https://img1.od-cdn.com/",o="https://ic.od-cdn.com/",a=n.href.replace(r,o),s="quality=80&w="+e+(h?"&format=auto":""),l=(a.indexOf("?")<0?"?":"&")+s;return n.href=a+l,n}}var c=_.find(i,function(t){return t.width>=e})||_.last(t);return c}},{key:"getCoverSrc",value:function(e){var t=this.getCover(e);return t&&t.href||"/public/img/no-cover_en_US.jpg"}},{key:"getCurrentAvailability",value:function(){return $.ajax({url:window.url(window.routes.mediaAvailabilityId,{id:this.id}),type:"GET",timeout:0})}},{key:"getDetail",value:function(){var e=this;return this._mediaInterface||(this._mediaInterface=new p["default"]),this._mediaInterface.search({titleId:this.get("id")}).then(function(t){return e.set(t)},function(){return Promise.resolve()})}},{key:"availabilityText",value:function i(){var e=this.get("titleState"),i="";switch(e){case"recommend":i=window.html("availabilityNotOwned");break;case"recommended":i=window.html("recommended");break;case"unavailable":i=window.html("availabilityUnavailable");break;case"nook":i=window.html("availabilityAvailable");break;case"borrow":i=window.html("availabilityAvailable");break;case"borrowed":case"addToApp":case"listenNow":case"readNow":i=window.html("borrowed");break;case"hold":if(this.get("isPreReleaseTitle")){i=window.html("availabilityComingSoon");break}i=this.get("isPreReleaseTitle")?window.html("availabilityComingSoon"):window.html("availabilityWaitList");break;case"onHold":i=window.html("onHold");break;case"waiting":i=window.html("loading")}return i}},{key:"_getState",value:function(e){return u["default"].getState(this.attributes,e)}},{key:"sanitizedDesc",value:function(){var e=this.get("description").replace(/(<br\s*[\/]?>)|(\r?\n|\r)/gim," ");return $("<div>"+e+"</div>").text()}},{key:"getTitleAsync",value:function(e,t,i){var n=this;$.ajax({url:window.url(window.routes.mediaInfoId,{id:e}),type:"GET",timeout:1e4,success:function(e){n.set(e),n.set("titleState",n._getState(null)),t()},fail:function(e){i(e)}})}},{key:"contextCollectionId",get:function(){return this.context&&this.context.collectionDefinition?this.context.collectionDefinition.id:void 0}},{key:"titleDetailsUrl",get:function(){var e={id:this.id};return this.contextCollectionId&&(e.cid=this.contextCollectionId),window.url(window.routes.mediaId,e)}},{key:"isMagazine",get:function(){return"magazine"===this.get("type").id}}]),t}(Backbone.Model);i["default"]=m},{"../../../title-actions/TitleState":"C:\\projects\\lightning\\public\\ecmascript\\title-actions\\TitleState.js","../MediaInterface":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\MediaInterface.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\TitleCollection.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./Title"),c=n(l),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"model",get:function(){return c["default"]}}]),t}(Backbone.Collection);i["default"]=u},{"./Title":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\Title.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\ContextMenu.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=window,r=n.html,o=n.url,a=n.routes;i["default"]=function(e){var t=e.id,i=e.rid,n=e.typeId,s=e.title,l=e.alignment,c=e.sampleHref,u=e.sampleText,d=e.historyActionLabel,p=e.historyActionText,f=e.historyEnabled,h=e.gaHistoryAction,m=e.seriesSearchUrl;return'\n<div class="ContextMenu">\n    <div tabindex="0" class="ContextMenu-button js-context-button" data-media-id="'+t+'"\n         data-title="'+s+'"\n         data-dropdown="context-menu-'+t+"-"+i+'"\n         data-options="align:'+l+'"\n         aria-controls="more-actions-drop-'+t+'"\n         aria-expanded="false"\n         aria-label="'+r("cover.titleInfo",{title:s})+'"\n         role="button">\n        <i class="icon icon-more" tabindex="-1"></i>\n    </div>\n\n    <ul id="context-menu-'+t+"-"+i+'" class="ContextMenu-drop js-context-drop f-dropdown text-left" data-dropdown-content aria-hidden="false" tabindex="-1" role="list" aria-haspopup="true">\n        '+(""!==c?'\n            <li class="read-sample ContextMenu-item">\n                <a data-href="'+c+'" data-media-id="'+t+'" data-title="'+s+'"\n                   data-of-dropdown="more-actions-drop-'+t+'" data-type="'+n+'"\n                   tabindex="-1" href="javascript:void(0)" aria-label="'+r("cover.sampleLabel",{sample:u,title:s})+'">\n                    '+u+"\n                </a>\n            </li>":"")+'\n        <li class="ContextMenu-item">\n            <a tabindex="-1" href="'+o(a.mediaId,{id:t})+'" aria-label="'+r("viewDetailsAboutTitle",{title:s})+'">'+r("viewDetails")+"</a>\n        </li>\n        "+(m?'\n            <li class="ContextMenu-item"><a tabindex="-1" href="'+m+'">'+r("viewSeries")+"</a></li>":"")+"\n        "+(f?'<li class="ContextMenu-item js-historyAction" data-ga-action="'+h+'" data-media-id="'+t+'"><a tabindex="-1" role="button" aria-label="'+d+'">'+p+"</a></li>":"")+'\n        <li class="ContextMenu-item"><a tabindex="-1" href="'+o(a.mediaRelatedId,{id:t})+'" aria-label="'+r("viewRelatedToTitle",{title:s})+'">'+r("youMayAlsoLike")+"</a></li>\n    </ul>\n</div>"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\CopiesAvailable.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.withIcons,i=e.availabilityText,n=e.waitingText,r=e.helpButtonHTML;return"\n<div class='CopiesAvailable'>\n    "+(i?"\n        <div class='availability'>\n            <span class='availabilityText'>\n                "+(t?'<i class="icon-copies"></i>':"")+"\n                "+i+"\n            </span>\n            "+(!n&&r?"\n                <span>\n                    "+r+"\n                </span>\n            ":"")+"\n        </div>\n    ":"")+"\n    "+(n?"\n        <div class='waiting'>\n            <span class='waitingText'>\n                "+(t?'<i class="icon-holds"></i>':"")+"\n                "+n+"\n            </span>\n            "+(r?"\n                <span>\n                    "+r+"\n                </span>\n            ":"")+"\n        </div>\n    ":"")+"\n</div>\n"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\Cover.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.media,i=e.src,n=e.href,r=e.coverColor,o=e.noSampleClass;return'\n<div class="CoverImageContainer" style="background-color: '+r+'">\n    <a href="'+n+'"\n           tabindex="-1"\n           data-href    ="'+n+'"\n           data-media-id="'+t.id+'"\n           data-title   ="'+t.title+'"\n           data-type    ="'+t.type.id+'">\n        <img\n            tabindex="-1"\n            aria-label="'+t.title+" - "+html(t.type.id)+'"\n            tabindex="0"\n            class="large-title js-details-cover-image '+o+'"\n            src="'+i+'"\n            srcset="'+i+"&dpr=2 2x,\n                    "+i+"&dpr=1.5 1.5x,\n                    "+i+' 1x"\n            alt="'+t.title+" - "+html(t.type.id)+'"\n            style="background-color: '+r+'; max-height: none !important;"/>\n    </a>\n</div>'}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\NoCover.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.media,i=e.href,n=e.isInHero,r=(e.coverWidth,e.coverHeight,e.creatorText);return'\n<div class="CoverImageContainer">\n<a class="CoverImageContainer noCoverAvailable '+(n?"secondary-background":"primary-background")+'"\n    href="'+i+'"\n    tabindex="-1"\n    data-href    ="'+i+'"\n    data-media-id="'+t.id+'"\n    data-title   ="'+t.title+'"\n    data-type    ="'+t.type.id+'">\n        <div class="title '+(n?"secondary-font-highlight-box":"primary-font primary-font-highlight-box")+'">'+t.title+'</div>\n        <div class="author '+(n?"":"primary-font")+'">'+r+'</div>\n\n        <img\n            tabindex="-1"\n            aria-label="'+t.title+" - "+html(t.type.id)+'"\n            tabindex="0"\n            class="large-title js-details-cover-image"\n            src="'+(window.OverDrive.cdn+"/public/img/clear.gif")+'"\n            alt="'+t.title+" - "+html(t.type.id)+'"\n            />\n\n</a>\n</div>\n\n'}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\StarViewTemplate.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.index,i=e.isFilled,n=e.isHalfFilled,r=e.label,o=e.rid;return"\n    <input id='star"+t+"-"+o+"' class='starRadio' type='radio' value='"+t+"' aria-label='"+r+"' name='"+o+"'/>\n    <label for='star"+t+"-"+o+"'><i data-index='"+t+"' class='icon icon-star contrast StarRatings-star "+(n?"halfFilled":"")+" "+(i?"filled":"")+"'></i></label>\n"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitleCard.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(){return'\n<div class="title-contents card TitleCard">\n    <div class="TitleHeaderBar"></div>\n\n    <div class="CoverImage"></div>\n\n    <div class="InfoPanel">\n        <div class="TitleInfo"></div>\n\n        <div class="TitleAction is-grid"></div>\n\n        <div class="TitleWishlist is-grid"></div>\n    </div>\n\n    <div class="clear" />\n</div>'}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitleFormatBadge.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.typeId;return"\n"+(t?'\n    <span class="title-format-badge contrast u-allCaps"><i class="icon-'+t+'"></i>'+window.html(t)+"</span>\n":"")+"\n"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitleName.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.titleId,i=e.title,n=e.href,r=e.ariaLabel;return'<h3 title="'+i+'" class="title-name" data-media-id="'+t+'" tabindex="-1">\n    <a tabindex="0" href="'+n+'" role="link" aria-label="'+r+'">\n        '+i+"\n    </a>\n</h3>"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitlePreRelease.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.date;return"<p class='title-prerelease'> "+window.html("accountHolds.prereleaseExpected",{date:t})+"</p>"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\WishListButton.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){var t=e.ga,i=e.contrastClass,n=e.ariaLabel,r=e.iconClass,o=e.text;return"\n<button "+(t?'data-ga-track="wishlist" data-ga-mediaID="'+t.mediaId+'" data-ga-type='+t.formatType:"")+'\nclass="WishListButton '+i+'" \ntype="button" \naria-label="'+n+'">\n    <i class="'+r+' icon animated bounceIn" aria-hidden="true"></i>\n    '+(o?'<span class="u-allCaps WishListButton-text">'+o+"</span>":"")+"\n</button>"}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../models/LendingPeriodCollection"),c=n(l),u=e("./SplitBorrowButton/LendingPeriodCollectionView"),d=n(u),p=e("./SplitBorrowButton/LendingPeriodTrigger"),f=n(p),h=e("./SplitBorrowButton/ActionButton"),m=n(h),g=e("./SplitBorrowButton/AuthPromptView"),b=n(g),v=function(e){function t(e){var i=e.style;r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.$wait=$('\n        <div class="TitleActionButton button radius is-button secondary" disabled="disabled">\n            <div class="spinner">\n        </div>'),n.style=i,n._renderWait(),n.randId="drop-"+Math.random().toString(36).substring(7),n.$template=$(n.template()),n.$button=n.$template.find(".ActionButton"),n.$trigger=n.$template.find(".LendingPeriodTrigger"),n.actionButton=new m["default"]({el:n.$button,titleModel:n.model}),n.menuTrigger=new f["default"]({el:n.$trigger,randId:n.randId}),n.render(),n}return a(t,e),s(t,[{key:"template",value:function(){return'\n        <ul class="SplitBorrowButton" role="presentation">\n            <li class="ActionButton" role="presentation"></li>\n            <li class="LendingPeriodTrigger" role="presentation"></li>\n        </ul>'}}]),s(t,[{key:"render",value:function(){var e=this,t=window.OverDrive,i=t.isAuthenticated,n=t.hasLinkedCards;if(i)if(i&&!n){var r=new b["default"]({view:b["default"].Views.NoCard,mediaId:this.model.id,randId:this.randId});this._renderTemplate({view:r})}else{var o=new c["default"]({mediaId:this.model.id}),a=new d["default"]({randId:this.randId,collection:o});a.listenTo(o,"lending-period:select",function(t){e._setLendingPeriod(o,t),window.Foundation.libs.dropdown.close(a.$dropdown)}),o.fetch().then(function(){e._renderTemplate({view:a});var t=o.findWhere({isPreferredLendingPeriod:!0});e._setLendingPeriod(o,t)})}else{var s=new b["default"]({view:b["default"].Views.NoAuth,mediaId:this.model.id,randId:this.randId});this._renderTemplate({view:s})}return this}},{key:"_renderTemplate",value:function(e){var t=this,i=e.view;this.$template.toggleClass("fill","fill"===this.style),this.$el.empty().append(this.$template).append(i.$el),$(this.el).foundation("dropdown","reflow"),i.$dropdown.off("opened.fndtn.dropdown").on("opened.fndtn.dropdown",function(){i.$dropdown.find("a:first").focus()}),i.$dropdown.off("closed.fndtn.dropdown").on("closed.fndtn.dropdown",function(){t.actionButton.focus()})}},{key:"_renderWait",value:function(){this.$el.empty().append(this.$wait)}},{key:"_setLendingPeriod",value:function(e,t){var i=e.findWhere({selected:!0});i&&i.set({selected:!1}),t.set({selected:!0}),this.actionButton.setLabel(t.label),this.model.set({lendingPeriod:t.get("lendingPeriod"),units:t.get("units")})}}]),t}(Backbone.View);i["default"]=v},{"../models/LendingPeriodCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\LendingPeriodCollection.js","./SplitBorrowButton/ActionButton":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\ActionButton.js","./SplitBorrowButton/AuthPromptView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\AuthPromptView.js","./SplitBorrowButton/LendingPeriodCollectionView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\LendingPeriodCollectionView.js","./SplitBorrowButton/LendingPeriodTrigger":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\LendingPeriodTrigger.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\ActionButton.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){function t(e){var i=e.titleModel;n(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return o.titleId=i.id,o.title=i.attributes.title,o.type=i.attributes.type.id,o.model=new Backbone.Model({label:"",titleId:o.titleId,title:o.title,type:o.type}),o.listenTo(o.model,"change",o.render),o.render(),o}return o(t,e),a(t,[{key:"template",value:function(e){return'\n        <div class="button radius-left '+(!e.label&&"is-oneLine")+' u-allCaps secondary is-borrow" data-media-id="'+e.titleId+'" data-type="'+e.type+'" data-type-name="'+html(e.type)+'" tabindex="0" aria-label="'+window.html("borrowTitle",{title:e.title})+" "+e.label+'" role="button">\n            <div class="text">'+window.html("borrow")+'</div>\n            <div class="subtext">\n                '+e.label+"\n            </div>\n        </div>"}}]),a(t,[{key:"setLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.model.set({label:e})}},{key:"render",value:function(){this.$el.empty().append(this.template(this.model.attributes))}},{key:"focus",value:function(){this.$el.find(".button").focus()}}]),t}(Backbone.View);i["default"]=s},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\AuthPromptView.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){return'\n    <div id="'+e.randId+'" class="f-dropdown content Details-signInDropdown" aria-hidden="true" tabindex="-1" role="presentation"></div>\n'}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\AuthPromptView.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./AuthPromptView.html"),c=n(l),u=e("./NoAuthLink.html"),d=n(u),p=e("./NoCardLink.html"),f=n(p),h=function(e){function t(e){var i=e.mediaId,n=e.randId,a=e.view,s=void 0===a?"noAuth":a;r(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return l.template=c["default"],l.noAuthTemplate=d["default"],l.noCardTemplate=f["default"],l.mediaId=i,l.randId=n,l.view=s,l.forwardUrl=window.url(window.routes.accountSignIn,{forward:window.url(window.routes.mediaId,{id:l.mediaId})}),l.$dropdown=$(l.template({randId:l.randId})),l.render(),l}return a(t,e),s(t,[{key:"render",value:function(){var e="";switch(this.view){case"noAuth":e=this.noAuthTemplate({forwardUrl:this.forwardUrl});break;
case"noCard":e=this.noCardTemplate()}this.$dropdown.append(e),this.$el.empty().append(this.$dropdown)}}]),t}(Backbone.View);h.Views={NoAuth:"noAuth",NoCard:"noCard"},i["default"]=h},{"./AuthPromptView.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\AuthPromptView.html.js","./NoAuthLink.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\NoAuthLink.html.js","./NoCardLink.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\NoCardLink.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\LendingPeriodCollectionView.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./LendingPeriodItemView"),c=n(l),u=function(e){function t(e){var i=e.randId;r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._views=[],n.randId=i,n.$dropdown=$(n.template),n.$el.append(n.$dropdown),n.listenTo(n.collection,"update",n.render),n}return a(t,e),s(t,[{key:"template",get:function(){return'<ul id="'+this.randId+'" class="f-dropdown LendingPeriods" aria-hidden="true" role="menu" data-dropdown-content></ul>'}}]),s(t,[{key:"render",value:function(){var e=this;this._views=[];var t=document.createDocumentFragment();this.collection.each(function(i){var n=new c["default"]({model:i});e._views.push(n),t.appendChild(n.el)}),this.$dropdown.empty().append(t)}},{key:"focus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._views[e];t.$el.focus()}}]),t}(Backbone.View);i["default"]=u},{"./LendingPeriodItemView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\LendingPeriodItemView.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\LendingPeriodItemView.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.attributes={"class":"LendingPeriods-lendingPeriodListItem",role:"menuitem",tabindex:-1},e.isSelectEvent=function(e){return("click"===e.type||13===e.which||32===e.which)&&(e.preventDefault()||!0)},e.setElement($("<li/>")),e.delegateEvents({click:"select",keydown:"select"}),e.$el.attr(e.attributes),e.listenTo(e.model,"change",e.render),e.render(),e}return o(t,e),a(t,[{key:"render",value:function(){var e=this._createLink(this.model);this.$el.empty().append(e)}},{key:"select",value:function(e){this.isSelectEvent(e)&&this.model.trigger("lending-period:select",this.model)}},{key:"_createLink",value:function(e){var t={html:e.label,"aria-label":window.html("borrow")+" "+e.label,"aria-selected":!1,"class":"LendingPeriods-lendingPeriodListItemLink",role:"button",tabindex:0,"data-days":e.period.days,"data-hours":e.period.hours};e.get("selected")&&(t["class"]+=" is-default is-checked",t["aria-selected"]=!0);var i=$("<a />",t);return i}}]),t}(Backbone.View);i["default"]=s},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\LendingPeriodTrigger.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){function t(e){var i=e.randId;n(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return o.isSelectEvent=function(e){return("click"===e.type||13===e.which||32===e.which)&&(e.preventDefault()||!0)},o.delegateEvents({click:"select",keydown:"select"}),o.randId=i,o.$target=$(o.template),o.$el.empty().append(o.$target),o}return o(t,e),a(t,[{key:"template",get:function(){return'\n        <button\n            data-dropdown="'+this.randId+'" aria-expanded="false" aria-label="'+window.html("selectLendingPeriod")+'"\n            aria-controls="'+this.randId+'"\n            class="button dropdown radius-right secondary"\n            tabindex="0" role="button">\n        </button>'}}]),a(t,[{key:"select",value:function(e){this.isSelectEvent(e)&&window.Foundation.libs.dropdown.toggle(this.$target)}}]),t}(Backbone.View);i["default"]=s},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\NoAuthLink.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){return window.html("lendingPeriodTextNoAuthWithLinkHtml",{link:'\n    <a class="Details-dropdownLink" aria-label="'+window.html("lendingPeriodTextLabelNoAuth")+'" href="'+e.forwardUrl+'">\n        '+window.html("signIn")+"\n    </a>"})}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\SplitBorrowButton\\NoCardLink.html.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=function(e){return window.html("lendingPeriodTextNoCardWithLinkHtml",{link:'\n    <a class="Details-dropdownLink" aria-label="'+window.html("lendingPeriodTextLabelNoCard")+'" data-reveal-id="link-card-modal">\n        '+window.html("linkCardModal.addCard")+"\n    </a>"})}},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleCollectionViewSelector.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../models/MediaViewPreference"),c=n(l),u=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));if(e.isSelectEvent=function(e){return("click"===e.type||13===e.which||32===e.which)&&(e.preventDefault()||!0)},e.constructor===t)throw new TypeError("ViewSelectorButton cannot be instantiated directly");return e.listenTo(e.model,"change",e.render),e.$el.on("click keypress",function(t){return!e.isSelectEvent(t)||(e.select(),!1)}),e}return a(t,e),s(t,[{key:"select",value:function(){this.model.set({view:this.view})}},{key:"render",value:function(){if(!this.view||!this.template)throw new Error("this.view and this.template are required");this.$el.html(this.template({selected:this.model.get("view")===this.view}))}}]),t}(Backbone.View),d=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.template=function(e){var t=e.selected;return'<a tabindex="0" class="view-as-grid" aria-label="'+html("results.viewInGrid")+'" role="button" style="display: inline;">\n                    <i class="icon-grid '+(!t&&"gray")+'" aria-hidden="true"></i>\n                </a>'},e.view=c["default"].options.grid,e}return a(t,e),t}(u),p=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.template=function(e){var t=e.selected;return'<a tabindex="0" class="view-as-list" aria-label="'+html("results.viewInList")+'" role="button" style="display: inline;">\n                        <i class="icon-list '+(!t&&"gray")+'" aria-hidden="true"></i>\n                    </a>'},e.view=c["default"].options.list,e}return a(t,e),t}(u),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.template=function(){return'\n        <div style="position: relative">\n            <div class="GridViewButton"></div>\n            <div class="ListViewButton"></div>\n        </div>'},i.model=new c["default"],i.$el.prepend(i.template()),i.listViewButton=new p({el:i.$(".ListViewButton"),model:i.model}).render(),i.gridViewButton=new d({el:i.$(".GridViewButton"),model:i.model}).render(),i}return a(t,e),t}(Backbone.View);i["default"]=f},{"../models/MediaViewPreference":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\MediaViewPreference.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleDescription.js":[function(e,t,i){"use strict";var n=window.Backbone,r=n.View.extend({initialize:function(){this.render()},template:function(){return"\n            "+this._description()+"\n            "+this._readMoreLink()+"\n        "},_readMoreLink:function(){return this.model.get("description").length?'\n                <a href="'+this.model.titleDetailsUrl+'" class="expand-description contrast secondary-hover-underline">\n                        '+window.html("cover.readMore")+"\n                </a>\n            ":""},_description:function(){return this.model.get("description").length?this.model.sanitizedDesc():window.html("titleDetails.noDescAvailable")},render:function(){this.$el.html(this.template())}});t.exports=r},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function w(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("../ContextMenu"),u=n(c),d=e("./TitleInfo/TitleAuthor"),p=n(d),f=e("./TitleInfo/TitleEdition"),h=n(f),m=e("./TitleInfo/TitleName"),g=n(m),b=e("./TitleInfo/TitleFormatBadge"),v=n(b),y=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._views=[],e.render(),e}return a(t,e),l(t,[{key:"className",get:function(){return"title-info"}}]),l(t,[{key:"_reset",value:function(){this._views.forEach(function(e){return e.remove()}),this._views=[]}},{key:"remove",value:function(){this._reset(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"render",value:function(){this._reset(),this._views.push(this.contextMenu=new u["default"]({model:this.model})),this.model.isMagazine?this._views.push(this.titleEdition=new h["default"]({model:this.model})):this._views.push(this.titleAuthor=new p["default"]({model:this.model})),this._views.push(this.titleName=new g["default"]({model:this.model})),this._views.push(this.titleFormatBadge=new v["default"]({typeId:this.model.get("type").id})),this.$el.empty(),this.$el.append(this.titleName.$el,this.contextMenu.$el.addClass("text-right"),this.model.isMagazine?this.titleEdition.$el:this.titleAuthor.$el,this.titleFormatBadge.$el)}}]),t}(Backbone.View);i["default"]=y},{"../ContextMenu":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\ContextMenu.js","./TitleInfo/TitleAuthor":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleAuthor.js","./TitleInfo/TitleEdition":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleEdition.js","./TitleInfo/TitleFormatBadge":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleFormatBadge.js","./TitleInfo/TitleName":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleName.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfoListView.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function A(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:A(r,t,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),c=e("../ContextMenu"),u=n(c),d=e("./TitleInfo/TitleAuthor"),p=n(d),f=e("./TitleInfo/TitleEdition"),h=n(f),m=e("./TitleInfo/TitleName"),g=n(m),b=e("./TitleInfo/TitleFormatBadge"),v=n(b),y=e("./TitleInfo/TitleSeries"),w=n(y),_=e("./TitleInfo/TitlePreRelease"),j=n(_),C=e("./TitleInfo/StarRating"),O=n(C),T=e("./TitleInfo/CopiesAvailable"),k=n(T),E=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._views=[],e.render(),e}return a(t,e),l(t,[{key:"className",get:function(){return"title-info"}}]),l(t,[{key:"_reset",value:function(){this._views.forEach(function(e){return e.remove()}),this._views=[]}},{key:"remove",value:function(){this._reset(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"render",value:function(){this._reset(),this._views.push(this.contextMenu=new u["default"]({model:this.model})),this.model.isMagazine?this._views.push(this.titleEdition=new h["default"]({model:this.model})):this._views.push(this.titleAuthor=new p["default"]({model:this.model})),this._views.push(this.titleName=new g["default"]({model:this.model})),this._views.push(this.titleSeries=new w["default"]({model:this.model})),this._views.push(this.titleFormatBade=new v["default"]({typeId:this.model.get("type").id})),this._views.push(this.titlePreRelease=new j["default"]({model:this.model})),this._views.push(this.copiesAvailable=new k["default"]({model:this.model})),this._views.push(this.starRating=new O["default"]({model:this.model,el:$("<div />",{"class":"star-rating list-view"}),type:"editable"}).render()),this.$el.empty(),this.$el.append(this.titleName.$el,this.contextMenu.$el.addClass("text-right"),this.titleSeries.$el,this.model.isMagazine?this.titleEdition.$el:this.titleAuthor.$el,this.titleFormatBade.$el),this.model.get("isPreReleaseTitle")?this.$el.append(this.titlePreRelease.$el):this.$el.append(this.starRating.$el),this.$el.append(this.copiesAvailable.$el)}}]),t}(Backbone.View);i["default"]=E},{"../ContextMenu":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\ContextMenu.js","./TitleInfo/CopiesAvailable":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\CopiesAvailable.js","./TitleInfo/StarRating":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\StarRating.js","./TitleInfo/TitleAuthor":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleAuthor.js","./TitleInfo/TitleEdition":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleEdition.js","./TitleInfo/TitleFormatBadge":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleFormatBadge.js","./TitleInfo/TitleName":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleName.js","./TitleInfo/TitlePreRelease":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitlePreRelease.js","./TitleInfo/TitleSeries":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleSeries.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\CopiesAvailable.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../../../holds_ratio_help_modal/views/HoldInformationModal"),c=n(l),u=e("../../templates/CopiesAvailable.html"),d=n(u),p=function(e){function t(e){var i=e.withIcons;r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.title=n.model.toJSON(),n.withIcons=i,n.listenTo(n.model,"change:titleState",n._maybeRender),n.render(),n}return a(t,e),s(t,[{key:"events",value:function(){return{"click .js-holds-ratio-help-icon":"_renderModal"}}},{key:"render",value:function(){if(this.$el.empty(),"unavailable"===this.title.titleState)return this;if(this.title.isPreReleaseTitle)return this._renderNormal(),this;switch(this.title.availabilityType){case"normal":this._renderNormal();break;case"always":this.$el.append((0,d["default"])({withIcons:this.withIcons,availabilityText:window.text("cover.alwaysAvailable")}));break;case!this.title.isAvailable:this.$el.append((0,d["default"])({withIcons:this.withIcons,availabilityText:window.text("cover.limitedAvailability")}))}return this}},{key:"_maybeRender",value:function(){"onHold"===this.model.get("titleState")&&this.render()}},{key:"_renderNormal",value:function(){var e=void 0,t=void 0,i=void 0,n="onHold"===this.model.get("titleState")?"":"js-holds-ratio-not-held";"periodicals"===this.title.type.id&&this.title.availableCopies<1&&!this.title.isAvailable?(e=window.html("cover.limitedAvailability"),i='\n                <button\n                aria-label="'+window.html("cover.whyLimitedAvailability")+'"\n                data-reveal-id="limited-periodical-availability"\n                class="help-tip secondary-background">\n                </button>\n                '):(e=window.html("cover.copiesAvailable",{availableCopies:this.title.availableCopies,ownedCopies:this.title.ownedCopies}),this.title.isAvailable||(this.model.get("isFastlane")||(this.title.holdsRatio?t=window.html("cover.waitingPerCopy",{holdsRatio:this.title.holdsRatio}):0===this.title.holdsCount&&(t=window.html("cover.noHolds"))),i='\n                    <button\n                    data-media-id="'+this.title.id+'"\n                    aria-label="'+window.html("cover.holdsRatioExplanation")+'"\n                    class="help-tip secondary-background js-holds-ratio-help-icon '+n+'">\n                    </button>\n                    ')),this.$el.append((0,d["default"])({withIcons:this.withIcons,availabilityText:e,waitingText:t,helpButtonHTML:i}))}},{key:"_renderModal",value:function(){var e=this,t=this.model.get("isFastlane"),i=this.model.get("titleState");t?this.modal=new c["default"]({model:this.model,type:"basic",el:this.el}):"onHold"===i?window.ajax.getHold(this.model.get("id")).done(function(t){e.model.set({holdsRatio:t.holdsRatio,holdsCount:t.holdsCount,holdListPosition:t.holdListPosition}),e.modal=new c["default"]({model:e.model,type:"successPosition",el:e.el})}):this.modal=new c["default"]({model:this.model,type:"ratio",el:this.el})}}]),t}(Backbone.View);i["default"]=p},{"../../../holds_ratio_help_modal/views/HoldInformationModal":"C:\\projects\\lightning\\public\\ecmascript\\components\\holds_ratio_help_modal\\views\\HoldInformationModal.js","../../templates/CopiesAvailable.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\CopiesAvailable.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\StarRating.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function h(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:h(r,t,i)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},c=e("./StarView"),u=n(c),d=window,p=d.featureManager,f=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._views=[],e.hoverRating=0,e.$el.addClass("star-ratings-container StarRatings"),e.rid=Math.random().toString(36).substring(7),e.listenTo(e.model,"change:userStarRating",function(t){e.update()}),e}return a(t,e),s(t,[{key:"events",value:function(){return{mouseleave:"stopHoverRating"}}},{key:"remove",value:function(){this._views.forEach(function(e){return e.remove()}),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"isEnabled",get:function(){return p.isEnabled("star-ratings")&&!this.model.get("isPreReleaseTitle")}}]),s(t,[{key:"render",value:function(){var e=this;if(!this.isEnabled)return this;var t=this.model.get("starRating")||0;this.$el.attr("data-global-rating",this.model.get("starRating")),this.$el.attr("data-media-id",this.model.id),this._views.forEach(function(e){return e.remove()}),this._views.length=0;var i=this;return _.each([1,2,3,4,5,0],function(n){var r={index:n,globalRating:t,rid:e.rid},o=new u["default"](r);p.isEnabled("internationalDemoMode")||(o.on("rate",function(e){i.handleRating(e)}),o.on("hover",function(e){i.onHoverRating(e)})),e._views.push(o)}),this.$el.empty(),this._views.forEach(function(t){t.render(),e.$el.append(t.$el)}),this.update(),this}},{key:"isHalfStar",value:function(e){return e%1>=.25&&e%1<.75}},{key:"update",value:function(){var e=this;if(!this.isEnabled)return this;var t=(this.model.get("userStarRating")>0||this.hoverRating)>0;this.$el.toggleClass("user-rating",t);var i=this.model.get("starRating")||0;return _.each(this._views,function(n){t?n.setFilled(n.index<=(e.hoverRating||e.model.get("userStarRating"))):n.index<i?n.setFilled(!0):n.index-1>i?n.setFilled(!1):n.setFilled(n.index-.75<i,e.isHalfStar(i)),n.$el.children(".starRadio").prop("checked",n.index===e.model.get("userStarRating"))}),this}},{key:"handleRating",value:function(e){var t=this.model.get("userStarRating");e===t?(this.model.set("userStarRating",0),this.stopHoverRating()):this.model.set("userStarRating",e),this.model.trigger("title:action",{action:"rating",model:this.model})}},{key:"onHoverRating",value:function(e){this.hoverRating=e,this.update()}},{key:"stopHoverRating",value:function(){this.hoverRating=0,this.update()}}]),t}(Backbone.View);i["default"]=f},{"./StarView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\StarView.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\StarView.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../../templates/StarViewTemplate.html"),c=n(l),u=function(e){function t(e){var i=e.index,n=e.isFilled,a=void 0!==n&&n,s=e.globalRating,l=e.rid;r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u.template=c["default"],u.index=i,u.isFilled=a,u.isHalfFilled=!1,u.label=window.html("starRating.userRatedLabel",{currentRating:u.index}),u.globalRating=s,u.rid=l,u.$el.addClass("star-container"),u}return a(t,e),s(t,[{key:"events",value:function(){return{change:"onSelected","mouseover .icon-star":"onHover","click .icon-star":"onSelected","focusin .noRate":"pseudoFocus","focusout .noRate":"pseudoFocus"}}},{key:"setFilled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(this.$el.find(".icon-star").removeClass("filled"),this.isFilled=!1,this.isHalfFilled=e,this.$el.find(".icon-star").toggleClass("halfFilled",e)):(this.$el.find(".icon-star").removeClass("halfFilled"),this.isHalfFilled=!1,this.isFilled=e,this.$el.find(".icon-star").toggleClass("filled",e))}},{key:"onSelected",value:function(){return this.trigger("rate",this.index),!1}},{key:"onHover",value:function(){this.trigger("hover",this.index)}},{key:"pseudoFocus",value:function(){this.$el.parent().toggleClass("pseudoFocus")}},{key:"render",value:function(){if(this.index>0)this.$el.empty().append(this.template(this));else{var e="<input id='noRate-"+this.rid+"' class='starRadio noRate' type='radio' value='0' name='"+this.rid+"' aria-label='"+window.html("starRating.ratedLabel",{rating:this.globalRating})+"'/>";this.$el.empty().append(e)}}}]),t}(Backbone.View);i["default"]=u},{"../../templates/StarViewTemplate.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\StarViewTemplate.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleAuthor.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=window.Backbone,r=(e("path"),'<a title="<%= text %>" class="secondary-hover-underline" href="<%= href %>" aria-label="<%= label %>"><%= text %></a>'),o=n.View.extend({template:_.template(r),className:"title-author",tagName:"p",initialize:function(){"periodicals"!==this.model.get("type").id&&this.render()},render:function(){var e=this.model.toJSON(),t=window.html("cover.noAuthorAvailable");if(!_.isEmpty(e.firstCreatorName)){var i={href:window.url(window.routes.searchByType,{type:"creatorId",query:e.firstCreatorId,sortBy:"newlyadded"}),label:window.text("cover.searchByAuthor",{author:_.escape(this.model.get("firstCreatorName"))}),text:_.escape(e.firstCreatorName)};t=window.text("byLine",{creator:this.template(i)})}this.$el.html(t)}});i["default"]=o},{path:"C:\\projects\\lightning\\node_modules\\path-browserify\\index.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleEdition.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.render(),e}return o(t,e),a(t,[{key:"render",value:function(){var e=$('<div class="title-edition">'+this.model.get("edition")+"</div>");this.setElement(e)}}]),t}(Backbone.View);i["default"]=s},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleFormatBadge.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("../../templates/TitleFormatBadge.html"),o=n(r),a=Backbone.View.extend({initialize:function(e){var t=e.typeId;this.typeId=t,this.render()},render:function(){this.setElement($((0,o["default"])({typeId:this.typeId})))}});i["default"]=a},{"../../templates/TitleFormatBadge.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitleFormatBadge.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleName.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../../templates/TitleName.html"),c=n(l),u=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.template=c["default"],e.render(),e}return a(t,e),s(t,[{key:"_assembleLabel",value:function(){var e=[];return e.push(this.model.get("title")),this.model.get("firstCreatorName")&&e.push(window.html("byLine",{creator:this.model.isMagazine?this.model.get("publisher").name:this.model.get("firstCreatorName")})),e.push(this.model.availabilityText()),e.push(this.model.get("type").name),e.join(" ")}},{key:"render",value:function(){var e={titleId:this.model.id,href:this.model.titleDetailsUrl,ariaLabel:_.escape(this._assembleLabel()),title:_.escape(this.model.get("title"))};this.setElement($(this.template(e)))}}]),t}(Backbone.View);i["default"]=u},{"../../templates/TitleName.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitleName.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitlePreRelease.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../../templates/TitlePreRelease.html"),c=n(l),u=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.template=c["default"],e.model.get("isPreReleaseTitle")&&e.render(),e}return a(t,e),s(t,[{key:"render",value:function(){this.setElement($(this.template({date:this.model.get("estimatedReleaseDate")})))}}]),t}(Backbone.View);i["default"]=u},{"../../templates/TitlePreRelease.html":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\templates\\TitlePreRelease.html.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleInfo\\TitleSeries.js":[function(e,t,i){"use strict";var n=window.Backbone,r=window.url,o=window.routes,a=window.text,s=window.featureManager,l=n.View.extend({initialize:function(e){var t=e.hideSubtitle;this.useEnhancedSeries=s.isEnabled("enhancedSeries")&&"undefined"!=typeof this.model.get("detailedSeries"),this.hideSubtitle=t,this.listenTo(this.model,"update",this.render),this.render()},render:function(){var e=this.useEnhancedSeries?{type:"seriesId",query:this.model.get("detailedSeries").seriesId,sortBy:"readingOrder"}:{type:"series",query:this.model.get("series"),sortBy:"newlyadded"},t=this.model.get("subtitle")&&this.model.get("subtitle").indexOf(this.model.get("series"))>-1,i="";if(this.useEnhancedSeries){var n=this.model.get("detailedSeries"),a=n.readingOrder%1===0?n.readingOrder.toFixed(0):n.readingOrder.toFixed(1);i=window.text("enhancedSeriesLink",{seriesName:n.seriesName,readingOrder:a})}else i=t?this.model.get("subtitle"):this.model.get("series")||"";"magazine"===this.model.get("type").id&&(e.mediaType="magazine");var s={id:this.model.get("id"),title:this.model.get("title"),series:i,subtitle:this.model.get("subtitle")||"",searchUrl:r(o.searchByType,e),language:_.first(this.model.get("languages")||[""]),noCreators:_.isEmpty(this.model.get("creators"))},l=$(document.createDocumentFragment());if(!this.hideSubtitle&&!t&&!_.isEmpty(s.subtitle)){var c=this._buildSubtitle(s.subtitle,s.language);l.append(c)}if(!_.isEmpty(s.series)){var u=this._buildSeriesLink(s.searchUrl,s.noCreators,s.series);l.append(u)}this.$el.html(l)},_buildSeriesLink:function(e,t,i){var n=$("<p />",{"class":"series "+(t?"no-author":"")}),r=$("<a />",{"aria-label":a("cover.searchBySeries",{series:i}),"class":"series-link secondary-hover-underline",href:e,title:i,text:i});return n.append(r),n},_buildSubtitle:function(e,t){return $("<p />",{"class":"subtitle",text:e,lang:t})}});t.exports=l},{}],"C:\\projects\\lightning\\public\\ecmascript\\components\\rtl_preview\\RtlPreviewCollection.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("./models/rtl_preview"),c=n(l),u=e("../media/TitleCard"),d=n(u),p=e("../media/models/TitleCollection"),f=n(p),h=e("../media/TitleCollectionView"),m=n(h),g=e("../../pages/facets/facets_controller"),b=n(g),v=e("../../models/PatronTitleStatus"),y=n(v),w=function(e){function t(e){var i=e.bus,n=e.el,a=e.featureManager;r(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.className="RTLRecommendations",s.loaderTemplate=_.template("\n        <div class=\"loader\">\n            <%= html('loading') %>...\n        </div>"),s.template=_.template('\n        <div class="u-hr"></div>\n\n        <a href="javascript:void(0)" data-facet="recommend-to-library" class="seeAllButton u-pullRight u-allCaps">\n            <%= html(\'seeAll\') %>\n        </a>\n\n        <h2 tabindex="-1" class="title"><%= html(\'rtlRecommendations.didntFind\') %></h2>\n        <p class="subTitle">\n            <%= html(\'rtlRecommendations.weCanAddTitle\') %>\n        </p>\n\n        <ul class="titleContainer" style="margin: 0px;"></ul>'),s.bus=i,s.model=new c["default"],s.collection=new f["default"],s.facetsController=new b["default"],s.setElement(n),s.$el.empty().html(s.loaderTemplate()),a.isEnabled("rtl-preview")&&a.isEnabled("recommend-to-library")?s.bus.on("search:render",function(){var e=new window.Waypoint.Inview({element:s.$el,enter:function(){e.destroy(),s._update()}})}):s.$el.empty(),s}return a(t,e),s(t,[{key:"_update",value:function(){var e=this;this.model.fetch().then(function(t){if(_(t).isEmpty())return void e.$el.empty();var i=new y["default"];i.fetchTitleStatus(t).then(function(){i.updateTitleCollectionState(e.collection)}),e.collection.reset(t),e.render()}).fail(function(){e.$el.empty()})}},{key:"render",value:function(){this.$el.empty().html(this.template());var e=this.facetsController;this.$(".seeAllButton").on("click",function(){e.select(this)}),this.titleCollectionView=new m["default"]({el:this.$(".titleContainer"),bus:this.bus,View:d["default"],attributes:{"class":"titleContainer small-block-grid-2 medium-block-grid-4 large-block-grid-4"},collection:this.collection,coverWidths:{mobile:215,tablet:220,desktop:220}})}}]),t}(Backbone.View);i["default"]=w},{"../../models/PatronTitleStatus":"C:\\projects\\lightning\\public\\ecmascript\\models\\PatronTitleStatus.js","../../pages/facets/facets_controller":"C:\\projects\\lightning\\public\\ecmascript\\pages\\facets\\facets_controller.js","../media/TitleCard":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCard.js","../media/TitleCollectionView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCollectionView.js","../media/models/TitleCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\TitleCollection.js","./models/rtl_preview":"C:\\projects\\lightning\\public\\ecmascript\\components\\rtl_preview\\models\\rtl_preview.js"}],"C:\\projects\\lightning\\public\\ecmascript\\components\\rtl_preview\\models\\rtl_preview.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("../../../models/base"),o=n(r),a="?searchPath=";window.location.search&&window.location.search.indexOf("?")!==-1&&(a=window.location.search+"&searchPath=");var s=a+encodeURIComponent(window.location.pathname),l=o["default"].extend({urlRoot:function(){var e=window.url(window.routes.rest.search.rtlPreview);return e+s}});i["default"]=l},{"../../../models/base":"C:\\projects\\lightning\\public\\ecmascript\\models\\base.js"}],"C:\\projects\\lightning\\public\\ecmascript\\models\\PatronTitleStatus.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../components/media/models/Title"),c=(n(l),e("../components/media/models/TitleCollection")),u=(n(c),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"fetchTitleStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.models||e||[];if(0===i.length)return Promise.resolve();var n=_.map(_(i).pluck("id"),Number);return this.request=this.fetch({data:JSON.stringify({titleIds:n,statusTypes:t}),type:"POST",contentType:"application/json"}),this.request}},{key:"updateTitleState",value:function(e){e.updatePatronState(this.attributes)}},{key:"updateTitleCollectionState",value:function(e){var t=this;this.stubAttributes(),this.titleIds.forEach(function(i){var n=e.findWhere({id:i});n&&t.updateTitleState(n)})}},{key:"stubAttributes",value:function(){this.get("onReadingHistory")||this.set("onReadingHistory",[]),this.get("starRatings")||this.set("starRatings",[]),this.get("onCheckouts")||this.set("onCheckouts",[]),this.get("onHolds")||this.set("onHolds",[]),this.get("onWishlist")||this.set("onWishlist",[]),this.get("recommendedToLibrary")||this.set("recommendedToLibrary",[])}},{key:"url",get:function(){return window.url(window.routes.mediaInfo)}},{key:"titleIds",get:function(){return _.union(this.get("onReadingHistory"),_.keys(this.get("starRatings")),this.get("onCheckouts"),this.get("onHolds"),this.get("onWishlist"),this.get("recommendedToLibrary"))}}]),t}(Backbone.Model));i["default"]=u},{"../components/media/models/Title":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\Title.js","../components/media/models/TitleCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\TitleCollection.js"}],"C:\\projects\\lightning\\public\\ecmascript\\models\\base.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=window.Backbone.Model},{}],"C:\\projects\\lightning\\public\\ecmascript\\models\\patron_media_items.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("../models/base"),o=n(r),a=o["default"].extend({url:function(){return window.url(window.routes.mediaInfo)},initialize:function(e){var t=e.titles;this.mediaItems=t||window.OverDrive.titleCollection||{},this.itemsOnPage=_.map(_.pluck(this.mediaItems,"id"),Number)},initialFetch:function(){return this.mediaItems.length?this.fetch({data:JSON.stringify({titleIds:this.itemsOnPage}),type:"POST",contentType:"application/json",headers:{"csrf-token":$("#csrf").val()||OverDrive._csrf}}):Promise.resolve({})}});i["default"]=a},{"../models/base":"C:\\projects\\lightning\\public\\ecmascript\\models\\base.js"}],"C:\\projects\\lightning\\public\\ecmascript\\pages\\facets\\facets_controller.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../../util/encoding/rfc3986EncodeURIComponent.js"),s=n(a),l=e("./facets_model"),c=n(l),u=function(){function e(){r(this,e),this.SHOW_ONLY_AVAILABLE="showOnlyAvailable",this.SHOW_ONLY_PRERELEASE="showOnlyPrerelease",this.SHOW_ALSO_RECOMMENDABLE="showAlsoRecommendable",this.ADDED_DATE="addedDate",this.REMOVE_FILTER="removeFilter",this.HAS_AUDIO_SYNCHRONIZED_TEXT="hasAudioSynchronizedText",this.SUBJECT="subject",this.FORMAT="format",this.MATURITY_LEVEL="maturityLevel",this.LANGUAGE="language",this.PAGE="page",this.SORT_BY="sortBy",this.EBOOK_OVERDRIVE_READALONG="ebook-overdrive-readalong",this.TRUE="true",this.INTEREST_LEVELS="interestLevels",this.GRADE_LEVELS="gradeLevels",this.ATOS_LEVELS="atosLevels",this.LEXILE_SCORES="lexileScores";var t=[this.SHOW_ONLY_AVAILABLE,this.SHOW_ONLY_PRERELEASE,this.SHOW_ALSO_RECOMMENDABLE,this.ADDED_DATE,this.REMOVE_FILTER,this.HAS_AUDIO_SYNCHRONIZED_TEXT],i=[this.SUBJECT,this.FORMAT,this.MATURITY_LEVEL,this.LANGUAGE],n=[this.INTEREST_LEVELS,this.GRADE_LEVELS,this.ATOS_LEVELS,this.LEXILE_SCORES];this._facetsModel=new c["default"](t,i,n)}return o(e,[{key:"countFacets",value:function(){return this._facetsModel.countFacets()}},{key:"select",value:function(e){if(!$(e).hasClass("js-active")&&!$(e).hasClass("js-disabled")){if(this._facetsModel.beginTransaction(),this._facetsModel.deleteOtherParam(this.PAGE),"narration"===$(e).data("facet"))this._facetsModel.setFacet(this.HAS_AUDIO_SYNCHRONIZED_TEXT,this.TRUE);else{var t=$(e).attr("data-facet"),i=$(e).attr("data-id");"available-now"===t?(this._facetsModel.setFacet(this.SHOW_ONLY_AVAILABLE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ONLY_PRERELEASE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ALSO_RECOMMENDABLE,this.TRUE)):"all-titles"===t?(this._facetsModel.unsetFacet(this.SHOW_ONLY_AVAILABLE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ONLY_PRERELEASE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ALSO_RECOMMENDABLE,this.TRUE)):"prerelease"===t?(this._facetsModel.setFacet(this.SHOW_ONLY_PRERELEASE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ONLY_AVAILABLE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ALSO_RECOMMENDABLE,this.TRUE)):"recommend-to-library"===t?(this._facetsModel.unsetFacet(this.SHOW_ONLY_AVAILABLE,this.TRUE),this._facetsModel.unsetFacet(this.SHOW_ONLY_PRERELEASE,this.TRUE),this._facetsModel.setFacet(this.SHOW_ALSO_RECOMMENDABLE,this.TRUE),"newlyadded"===$(".js-searchSortByOptions").val()?this._facetsModel.setOtherParam(this.SORT_BY,"releasedate"):"lowcirculating"===$(".js-searchSortByOptions").val()?this._facetsModel.setOtherParam(this.SORT_BY,"mostpopular"):"mostpopular-site"===$(".js-searchSortByOptions").val()&&this._facetsModel.setOtherParam(this.SORT_BY,"mostpopular")):t===this.SUBJECT?this._facetsModel.setFacet(this.SUBJECT,(0,s["default"])(i)):"date"===t?this._facetsModel.setFacet(this.ADDED_DATE,i):"maturity"===t?this._facetsModel.setFacet(this.MATURITY_LEVEL,i):[this.FORMAT,this.LANGUAGE,this.INTEREST_LEVELS,this.GRADE_LEVELS,this.ATOS_LEVELS,this.LEXILE_SCORES].includes(t)&&this._facetsModel.setFacet(t,i)}this._facetsModel.hasOtherParam(this.SORT_BY)||this._facetsModel.setOtherParam(this.SORT_BY,$(".js-searchSortByOptions").val()),this._facetsModel.endTransaction()}}},{key:"removeAll",value:function(){this._facetsModel.beginTransaction(),this._facetsModel.deleteOtherParam(this.PAGE),this._facetsModel.unsetAllFacets(),this._facetsModel.endTransaction()}},{key:"restoreRoomFilter",value:function(e){this._facetsModel.beginTransaction(),this._facetsModel.unsetFacet(this.REMOVE_FILTER,e),this._facetsModel.deleteOtherParam(this.PAGE),this._facetsModel.endTransaction()}},{key:"remove",value:function(e){this._facetsModel.beginTransaction();var t=$(e).attr("data-filter-id").split(","),i=$(e).attr("data-filter-facet");this._facetsModel.deleteOtherParam(this.PAGE);var n=!0,r=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var c=a.value;this._facetsModel.unsetFacet(i,(0,s["default"])(c)),i===this.HAS_AUDIO_SYNCHRONIZED_TEXT&&this._facetsModel.unsetFacet(this.FORMAT,this.EBOOK_OVERDRIVE_READALONG)}}catch(u){r=!0,o=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw o}}this._facetsModel.endTransaction()}},{key:"removeRoomFilter",value:function(e){this._facetsModel.beginTransaction();var t=e.data("filter-facet"),i=e.data("filter-id");this._facetsModel.deleteOtherParam(this.PAGE),this._facetsModel.unsetFacet(t,i),this._facetsModel.setFacet(this.REMOVE_FILTER,t+"-"+i),this._facetsModel.endTransaction()}}]),e}();i["default"]=u},{"../../util/encoding/rfc3986EncodeURIComponent.js":"C:\\projects\\lightning\\public\\ecmascript\\util\\encoding\\rfc3986EncodeURIComponent.js","./facets_model":"C:\\projects\\lightning\\public\\ecmascript\\pages\\facets\\facets_model.js"}],"C:\\projects\\lightning\\public\\ecmascript\\pages\\facets\\facets_model.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../../../../node_modules/querystring"),s=n(a),l=function(){function e(t,i,n){r(this,e),this._params=s["default"].parse(window.location.search.substr(1))||{},this._singleFacets=t,this._multiFacets=i,this._rangeFacets=n}return o(e,[{key:"beginTransaction",value:function(){this._params=s["default"].parse(window.location.search.substr(1))||{}}},{key:"endTransaction",value:function(){window.OverDrive.titleCollection&&window.OverDrive.titleCollection.maxItems&&window.OverDrive.titleCollection.maxItems<2147483647&&window.OverDrive.titleCollection.breakpoint&&(this._params.breakpoint=window.OverDrive.titleCollection.breakpoint);var e=s["default"].stringify(this._params);e=e.length>0?"?"+e:e,window.location.search=e}},{key:"setFacet",value:function(e,t){if(this._multiFacets.includes(e))this._params[e]?Array.isArray(this._params[e])?this._params[e].push(t):this._params[e]=[this._params[e],t]:this._params[e]=[t];else if(this._singleFacets.includes(e))this._params[e]=t;else if(this._rangeFacets.includes(e)){var i=e+"Min",n=e+"Max";this._params[i]=t,this._params[n]=t}}},{key:"unsetFacet",value:function(e,t){if(this._rangeFacets.includes(e)){var i=e+"Min",n=e+"Max";delete this._params[i],delete this._params[n]}else!t||this._singleFacets.includes(e)?delete this._params[e]:this._multiFacets.includes(e)&&(this._params[e]&&Array.isArray(this._params[e])?(this._params[e].splice(this._params[e].indexOf(t)),0===this._params[e].length&&delete this._params[e]):delete this._params[e])}},{key:"unsetAllFacets",value:function(){var e=this;_.each(this._singleFacets,function(t){var i=t;e.unsetFacet(i)}),_.each(this._multiFacets,function(t){var i=t;e.unsetFacet(i)}),_.each(this._rangeFacets,function(t){var i=t;e.unsetFacet(i)})}},{key:"deleteOtherParam",value:function(e){this._singleFacets.includes(e)||this._multiFacets.includes(e)||delete this._params[e]}},{key:"setOtherParam",value:function(e,t){this._singleFacets.includes(e)||this._multiFacets.includes(e)||(this._params[e]=t)}},{key:"hasOtherParam",value:function(e){return!this._singleFacets.includes(e)&&!this._multiFacets.includes(e)&&!!this._params[e]}},{key:"countFacets",value:function(){var e=0,t=!0,i=!1,n=void 0;try{for(var r,o=this._singleFacets[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this._params[a]&&e++}}catch(s){i=!0,n=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(i)throw n}}var l=!0,c=!1,u=void 0;try{for(var d,p=this._rangeFacets[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var f=d.value;(this._params[f+"Min"]||this._params[f+"Max"])&&e++}}catch(s){c=!0,u=s}finally{try{!l&&p["return"]&&p["return"]()}finally{if(c)throw u}}var h=!0,m=!1,g=void 0;try{for(var b,v=this._multiFacets[Symbol.iterator]();!(h=(b=v.next()).done);h=!0){var y=b.value;this._params[y]&&(Array.isArray(this._params[y])?e+=this._params[y].length:e++)}}catch(s){m=!0,g=s}finally{try{!h&&v["return"]&&v["return"]()}finally{if(m)throw g}}return e}}]),e}();i["default"]=l},{"../../../../node_modules/querystring":"C:\\projects\\lightning\\node_modules\\querystring\\index.js"}],"C:\\projects\\lightning\\public\\ecmascript\\pages\\search.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../util/title-actions/processForwardedAction"),s=n(a),l=e("../models/patron_media_items"),c=n(l),u=e("../components/common/HashManager"),d=n(u),p=e("../components/media/models/TitleCollection"),f=n(p),h=e("../components/media/TitleCollectionView"),m=n(h),g=e("../components/media/TitleCard"),b=n(g),v=e("../components/media/TitleCardListView"),y=n(v),w=e("../components/media/views/TitleCollectionViewSelector"),_=n(w),j=e("../components/collection_campaign_page/PageManager"),C=n(j),O=e("../components/rtl_preview/RtlPreviewCollection"),T=n(O),k=e("./facets/facets_controller.js"),E=n(k),A=window,x=A.Logger,S=A.featureManager,D=window.OverDrive.currentRoom,P=function(){function e(t){var i=this,n=t.bus,o=t.room,a=t.collectionDefinition;r(this,e),this.bus=n,this.room=o,this.collectionDefinition=a,this.$resultsContainer=$(".js-media-results"),this.viewState=new _["default"]({el:".SearchViewOptions",bus:this.bus}).model,this.titleCollection=new f["default"](this.titles),this.titleCollectionView=new m["default"]({collection:this.titleCollection,bus:this.bus,patronMediaItemsModel:new c["default"]({titles:this.titles}),attributes:this.attributes,View:this.collectionView,coverWidths:this.coverWidths,context:{room:this.room,collectionDefinition:this.collectionDefinition}}),this.viewState.on("change",function(){i.titleCollectionView.View=i.collectionView,i.titleCollectionView.attributes=i.attributes,i.titleCollectionView.coverSizes=i.coverWidths,i.titleCollectionView.render()}),this.handledForwardedAction=!1,this.render()}return o(e,[{key:"render",value:function(){if($(".js-media-results").prepend(this.titleCollectionView.$el),window.globalEvents.trigger("search:render"),window.OverDrive.isAuthenticated&&window.OverDrive.hasLinkedCards&&d["default"].get("action")&&this.handledForwardedAction){this.handledForwardedAction=!0;var e=new s["default"](this.titleCollection,this.bus);e.executeAction(),window.forwardAction=e}$(".Pagination.is-results").show()}},{key:"attributes",get:function(){var e={"class":"js-title-collection-view large-block-grid-4 medium-block-grid-4 small-block-grid-2"};return"list"===this.viewState.get("view")&&(e["class"]="js-title-collection-view list-view-ul"),e}},{key:"coverWidths",get:function(){return"list"===this.viewState.get("view")?{mobile:120,tablet:160,desktop:160}:{mobile:220,tablet:220,desktop:220}}},{key:"collectionView",get:function(){var e=void 0;return"list"===this.viewState.get("view")?(e=y["default"],this.$resultsContainer.removeClass("grid-view").addClass("list-view")):(e=b["default"],this.$resultsContainer.removeClass("list-view").addClass("grid-view")),e}},{key:"titles",get:function(){return window.OverDrive.titleCollection}}]),e}();if($(".RTLRecommendations").each(function(e,t){void new T["default"]({bus:window.globalEvents,el:t,featureManager:S})}),window.facetsController=new E["default"],window.collectionId){var B=new C["default"];B.fetchCollectionById(window.collectionId).then(function(e){void new P({bus:window.globalEvents,room:D,collectionDefinition:e})},function(e,t,i){x.log("error","Error fetching collection",{message:t})})}else void new P({bus:window.globalEvents,room:D})},{"../components/collection_campaign_page/PageManager":"C:\\projects\\lightning\\public\\ecmascript\\components\\collection_campaign_page\\PageManager.js","../components/common/HashManager":"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\HashManager.js","../components/media/TitleCard":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCard.js","../components/media/TitleCardListView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCardListView.js","../components/media/TitleCollectionView":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\TitleCollectionView.js","../components/media/models/TitleCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\TitleCollection.js","../components/media/views/TitleCollectionViewSelector":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\views\\TitleCollectionViewSelector.js","../components/rtl_preview/RtlPreviewCollection":"C:\\projects\\lightning\\public\\ecmascript\\components\\rtl_preview\\RtlPreviewCollection.js","../models/patron_media_items":"C:\\projects\\lightning\\public\\ecmascript\\models\\patron_media_items.js","../util/title-actions/processForwardedAction":"C:\\projects\\lightning\\public\\ecmascript\\util\\title-actions\\processForwardedAction.js","./facets/facets_controller.js":"C:\\projects\\lightning\\public\\ecmascript\\pages\\facets\\facets_controller.js"}],"C:\\projects\\lightning\\public\\ecmascript\\title-actions\\TitleActions.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){var i=t.bus,r=t.context;n(this,e),this.bus=i,this.context={room:void 0,collectionDefinition:void 0},_.extend(this.context,r)}return r(e,[{key:"perform",value:function(e,t){"function"==typeof this["_"+e]&&this["_"+e](t)}},{key:"_borrow",value:function(e){this.bus.trigger("title:borrow",e,this.context)}},{key:"_hold",value:function(e){this.bus.trigger("title:hold",e,this.context)}},{key:"_wish",value:function(e){this.bus.trigger("title:wishlist",e,this.context)}},{key:"_recommend",value:function(e){this.bus.trigger("title:recommend",e,this.context)}},{key:"_nook",value:function(e){this.bus.trigger("title:nook",e,this.context)}},{key:"_rating",value:function(e){this.bus.trigger("title:rating",e,this.context)}},{key:"_history",value:function(e){this.bus.trigger("title:history",e,this.context)}},{key:"_download",value:function(e){this.bus.trigger("title:download",e,this.context)}},{key:"_preview",value:function(e){this.bus.trigger("title:preview",e,this.context)}},{key:"setContextRoom",value:function(e){return _(e).isEmpty()?delete this.context.room:this.context.room=e,this}},{key:"setContextCollection",value:function(e){return _(e).isEmpty()?delete this.context.titleCollection:this.context.titleCollection=e,this}}]),e}();i["default"]=o},{}],"C:\\projects\\lightning\\public\\ecmascript\\title-actions\\TitleState.js":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"getState",value:function(e,t){var i=window.featureManager;if(i.isEnabled("internationalDemoMode"))return"preview";var n=e.id,r=t&&t.onHolds.indexOf(n)>-1,o=t&&t.onCheckouts.indexOf(n)>-1,a=t&&t.recommendedToLibrary.indexOf(n)>-1||e.isRecommended;
return r&&!e.isAvailable?"onHold":o?"borrowed":!a||e.isAvailable||e.isHoldable?e.isAvailable?"periodicals"===e.type.id?"nook":"borrow":!e.isOwned&&e.isRecommendableToLibrary&&i.isEnabled("recommend-to-library")?"recommend":e.isHoldable&&i.isEnabled("content-holds")?"hold":"unavailable":"recommended"}},{key:"isOnWishlist",value:function(e,t){return t&&t.onWishlist.indexOf(e.id)>-1}},{key:"isOnReadingHistory",value:function(e,t){return t&&t.onReadingHistory.indexOf(e.id)>-1}},{key:"starRating",value:function(e,t){return t&&t.starRatings&&t.starRatings[e.id]||0}}]),e}();i["default"]=o},{}],"C:\\projects\\lightning\\public\\ecmascript\\util\\encoding\\rfc3986EncodeURIComponent.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e){return encodeURIComponent(e).replace(/[&!'()*]/g,escape)};i["default"]=n},{}],"C:\\projects\\lightning\\public\\ecmascript\\util\\forwardedActions.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0}),i.recommend=void 0;var r=e("../components/media/models/Title"),o=n(r),a=e("../title-actions/TitleActions"),s=n(a),l=function(e,t,i){if(t){var n=t.split("~")[1],r=$('.js-recommend[data-media-id="'+n+'"]');if(r.length>0)history.replaceState(null,null,window.location.pathname+e),r[0].click();else{history.replaceState(null,null,window.location.pathname+e);var a=new o["default"],l=new Promise(function(e,t){a.getTitleAsync(n,e,t)});l.then(function(){var e=new s["default"]({bus:i});e.perform("recommend",a)})}}};i.recommend=l},{"../components/media/models/Title":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\Title.js","../title-actions/TitleActions":"C:\\projects\\lightning\\public\\ecmascript\\title-actions\\TitleActions.js"}],"C:\\projects\\lightning\\public\\ecmascript\\util\\keycodes.js":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=Object.freeze({TAB:9,ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32});i["default"]=n},{}],"C:\\projects\\lightning\\public\\ecmascript\\util\\title-actions\\processForwardedAction.js":[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../../components/common/HashManager"),s=n(a),l=e("../../components/media/models/Title"),c=n(l),u=e("../../title-actions/TitleActions"),d=n(u),p=e("../forwardedActions.js"),f=function(){function e(t,i,n){r(this,e);var o=s["default"].get("action")[0];this.actionArr=o?o.split("~"):[],this.action=this.actionArr[0]||null,this.mediaId=this.actionArr[1]||null,this.rating=this.actionArr[2]||0,this.model=n||null,this.collection=t.models,this.bus=i}return o(e,[{key:"executeAction",value:function(){var e=this;if(this.action&&this.mediaId){(!this.model||this.model&&this.model.get("id")!==this.mediaId)&&(this.model=_.find(this.collection,function(t){return t.id===e.mediaId}));var t=new d["default"]({bus:this.bus});if(this.model){if(s["default"].remove("action"),"recommend"===this.action&&this.model.get("isOwned"))return void("borrow"===this.model.get("titleState")?this.bus.trigger("title:hold:conflict",{titleModel:this.model}):this.bus.trigger("title:borrow:conflict",{titleModel:this.model}));this.model.set("userStarRating",this.rating),t.perform(this.action,this.model)}else if("recommend"===this.action&&$('a.primary-action[data-media-id="'+this.mediaId+'"]').length>0)(0,p.recommend)("",this.action,this.bus),s["default"].remove("action");else{var i=new c["default"],n=new Promise(function(t,n){i.getTitleAsync(e.mediaId,t,n)});n.then(function(){e.model&&e.model.set("userStarRating",e.rating),t.perform(e.action,i),s["default"].remove("action")})}}}}]),e}();i["default"]=f},{"../../components/common/HashManager":"C:\\projects\\lightning\\public\\ecmascript\\components\\common\\HashManager.js","../../components/media/models/Title":"C:\\projects\\lightning\\public\\ecmascript\\components\\media\\models\\Title.js","../../title-actions/TitleActions":"C:\\projects\\lightning\\public\\ecmascript\\title-actions\\TitleActions.js","../forwardedActions.js":"C:\\projects\\lightning\\public\\ecmascript\\util\\forwardedActions.js"}]},{},["C:\\projects\\lightning\\public\\ecmascript\\pages\\search.js"]);
//# sourceMappingURL=search.bundle.min.js.map
